(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0E7l":function(e,t,s){"use strict";s.d(t,"a",function(){return ne}),s.d(t,"b",function(){return H}),s.d(t,"c",function(){return J}),s.d(t,"d",function(){return ee}),s.d(t,"e",function(){return ie}),s.d(t,"f",function(){return te}),s.d(t,"g",function(){return se}),s.d(t,"h",function(){return ct}),s.d(t,"i",function(){return Te}),s.d(t,"j",function(){return Ae}),s.d(t,"k",function(){return X}),s.d(t,"l",function(){return wt}),s.d(t,"m",function(){return De}),s.d(t,"n",function(){return ke}),s.d(t,"o",function(){return F}),s.d(t,"p",function(){return es}),s.d(t,"q",function(){return ge}),s.d(t,"r",function(){return re}),s.d(t,"s",function(){return oe}),s.d(t,"t",function(){return ae}),s.d(t,"u",function(){return he}),s.d(t,"v",function(){return de}),s.d(t,"w",function(){return ue}),s.d(t,"x",function(){return be}),s.d(t,"y",function(){return fe}),s.d(t,"z",function(){return le}),s.d(t,"A",function(){return lt}),s.d(t,"B",function(){return ft}),s.d(t,"C",function(){return ht}),s.d(t,"D",function(){return dt}),s.d(t,"E",function(){return $e}),s.d(t,"F",function(){return W}),s.d(t,"G",function(){return Et}),s.d(t,"H",function(){return At}),s.d(t,"I",function(){return xt}),s.d(t,"J",function(){return Rt}),s.d(t,"K",function(){return me}),s.d(t,"L",function(){return Ie}),s.d(t,"M",function(){return P}),s.d(t,"N",function(){return je}),s.d(t,"O",function(){return ss}),s.d(t,"P",function(){return at}),s.d(t,"Q",function(){return Pe}),s.d(t,"R",function(){return Ue}),s.d(t,"S",function(){return Ve}),s.d(t,"T",function(){return bt}),s.d(t,"U",function(){return ut}),s.d(t,"V",function(){return jt}),s.d(t,"W",function(){return Ze}),s.d(t,"X",function(){return Re}),s.d(t,"Y",function(){return Je}),s.d(t,"Z",function(){return et}),s.d(t,"ab",function(){return tt}),s.d(t,"bb",function(){return st}),s.d(t,"cb",function(){return it}),s.d(t,"db",function(){return Ge}),s.d(t,"eb",function(){return xe}),s.d(t,"fb",function(){return ze}),s.d(t,"gb",function(){return G}),s.d(t,"hb",function(){return qt}),s.d(t,"ib",function(){return Gt}),s.d(t,"jb",function(){return gt}),s.d(t,"kb",function(){return $}),s.d(t,"lb",function(){return B}),s.d(t,"mb",function(){return Oe}),s.d(t,"nb",function(){return We}),s.d(t,"ob",function(){return q}),s.d(t,"pb",function(){return rt});var i=s("fXoL"),n=s("ofXK"),c=s("Y4Or"),r=s("2Vo4"),o=s("l5mm"),a=s("LRne"),b=s("jtHE"),u=s("EY2u"),l=s("itXk"),h=s("XNiG"),d=s("z6cu"),j=s("pLZG"),f=s("vkgz"),O=s("IzEk"),p=s("CqXF"),g=s("lJxs"),m=s("JIr8"),v=s("Kj3r"),M=s("eIep"),w=s("w1tV"),y=s("nYR2"),C=s("5+tZ"),S=s("JX91"),I=s("Zy1z"),N=s("7o/Q");class E{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new D(e,this.predicate,this.inclusive))}}class D extends N.a{constructor(e,t,s){super(e),this.predicate=t,this.inclusive=s,this.index=0}_next(e){const t=this.destination;let s;try{s=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,s)}nextOrComplete(e,t){const s=this.destination;Boolean(t)?s.next(e):(this.inclusive&&s.next(e),s.complete())}}var k=s("/uUt"),A=s("3E0/"),T=s("1G5W"),L=s("zP0r"),x=s("jCJ1"),z=s("tk/3"),Z=s("nhMy"),R=s("jhN1"),U=s("mrSG"),V=s("3Pt+");let P=(()=>{class e{constructor(e,t,s,i,n){this.zone=e,this.platformId=t,this.recaptchaConfig=s,this.assetsConfig=i,this.document=n,this.recaptchaV3Enabled$=new r.a(!1),this.isReCaptchaV3Enabled$=this.recaptchaV3Enabled$.asObservable(),this.recaptchaConfig.reCaptchaV3SiteKey$.pipe(Object(j.a)(e=>!!e),Object(f.a)(()=>this.recaptchaV3Enabled$.next(this.maxAttempts>0))).subscribe(e=>this.renderReCaptchaV3(e))}get maxAttempts(){return this.assetsConfig.get("passwordSecuritySettings").authentication_attempts_to_show_captcha}isReCaptchaV3Enabled(){return this.recaptchaV3Enabled$.getValue()}execute(e){return this.originalNgReCaptchaV3Service.execute(e)}handleReCaptchaV3BadgeVisibility(e){const t=this.getReCaptchaBadgeElement();t&&(e?t.classList.add("grecaptcha-badge--visible"):t.classList.remove("grecaptcha-badge--visible"))}watchOnReCaptchaV3Loaded(){return Object(o.a)(500).pipe(Object(j.a)(()=>!!this.getReCaptchaBadgeElement()),Object(O.a)(1),Object(p.a)(!0))}renderReCaptchaV3(e){this.originalNgReCaptchaV3Service=new x.a(this.zone,e,this.platformId)}getReCaptchaBadgeElement(){return this.document.querySelector(".grecaptcha-badge")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(i.K),Object(i.jc)(i.N),Object(i.jc)(c.ac),Object(i.jc)(c.e),Object(i.jc)(n.d))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})();var Q=function(e){return e.ALL_SCREEN="ALL_SCREEN",e.REGISTRATION="REGISTRATION",e.LOGIN="LOGIN",e}({});let F=(()=>{class e{constructor(e,t,s,i,n){this.config=e,this.assetsConfig=t,this.container=s,this.recaptchaV3Service=i,this.windowRef=n,this.observeIframes=[],this.reCaptchaV2Visible$=new r.a(!1),this.screensCaptchaFlags=new Map,this.reCaptchaAvailableScreens=[],this.forceShowReCaptcha=e=>{const t=this.screensCaptchaFlags.get(e);this.recaptchaV3Service.handleReCaptchaV3BadgeVisibility(this.isScreenAvailableForReCaptcha(e)&&!t),this.reCaptchaV2Visible$.next(t)},this.getObservableIframes=()=>Object(o.a)(300).pipe(Object(g.a)(()=>Array.prototype.slice.call(document.getElementsByTagName("iframe")).filter(e=>e.title.indexOf("recaptcha")>-1).filter(e=>this.elementInViewport(e))),Object(m.a)(e=>Object(a.a)(null))),this.getObservableIframesSizes=e=>e.map(e=>({iframe:e,size:this.calculateSize(e)})),this.initCaptcha()}initCaptcha(){this.assetsConfig.useCaptcha&&(this.initCaptchaFlags(),this.initRecaptchaSizeObserver(),this.reCaptchaAvailableScreens=this.getAvailableReCaptchaScreens())}initCaptchaFlags(){const e=this.recaptchaV3Service.isReCaptchaV3Enabled(),t=this.assetsConfig.useCaptcha&&!e,s=this.assetsConfig.get("showCaptchaAtFirstLogin"),i=this.assetsConfig.captchaScreen,n=i===Q.ALL_SCREEN,c=i===Q.REGISTRATION,r=i===Q.LOGIN;this.screensCaptchaFlags.set("restore",t&&this.assetsConfig.resetPasswordCaptcha),this.screensCaptchaFlags.set("register",t&&(n||c)),this.screensCaptchaFlags.set("login",t&&s&&(n||r)),this.screensCaptchaFlags.set("login_confirm",t&&s&&(n||r))}initRecaptchaSizeObserver(){this.recaptchaSizeObserver$=this.container.resize$.pipe(Object(v.a)(500),Object(g.a)(e=>e.width<301||e.height<480),Object(j.a)(e=>!!e),Object(M.a)(this.getObservableIframes),Object(g.a)(e=>e?this.getObservableIframesSizes(e):null),Object(m.a)(()=>Object(a.a)(null)),Object(g.a)(e=>e||[]),Object(f.a)(e=>{this.observeIframes.forEach(e=>{this.container.expands.removeValue(`recaptcha-${e.name}`)}),e.forEach(e=>{this.container.expands.setValue(`recaptcha-${e.iframe.name}`,e.size)}),this.observeIframes=e.map(e=>e.iframe)}))}isScreenAvailableForReCaptcha(e){return this.reCaptchaAvailableScreens.some(t=>t===e)}activateReCaptchaV2OnCurrentScreen(e,t){this.assetsConfig.useCaptcha&&(this.setShowReCaptchaV2(e&&this.assetsConfig.useCaptcha,t),this.forceShowReCaptcha(t))}setShowReCaptchaV2(e,t){this.screensCaptchaFlags.set(t,e)}getAvailableReCaptchaScreens(){const e={[Q.ALL_SCREEN]:["login","register","login_confirm"],[Q.LOGIN]:["login","login_confirm"],[Q.REGISTRATION]:["register"]}[this.assetsConfig.captchaScreen]||[];return this.assetsConfig.resetPasswordCaptcha&&e.push("restore"),e}calculateSize(e){const t=e.getBoundingClientRect();return{width:Math.max(t.left,0)+t.width,height:Math.max(t.top,0)+t.height}}elementInViewport(e){let t=e,s=t.offsetTop,i=t.offsetLeft;const n=t.offsetWidth,c=t.offsetHeight;for(;t.offsetParent;)t=t.offsetParent,s+=t.offsetTop,i+=t.offsetLeft;return s<this.windowRef.pageYOffset+this.windowRef.innerHeight&&i<this.windowRef.pageXOffset+this.windowRef.innerWidth&&s+c>this.windowRef.pageYOffset&&i+n>this.windowRef.pageXOffset}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(c.e),Object(i.jc)(c.z),Object(i.jc)(P),Object(i.jc)(c.Fc))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e{constructor(e,t){this.config=e,this.http=t}getSocialState(e,t,s){const i=new c.Jb({client_id:e,social_type:t,response_type:"token"});s&&i.set("linking_state",s);const n=`${this.config.get("apiPath")}/identity/login/social/state`;return this.http.get(n,{params:i.values})}getAccessToken(e,t,s){const i=`${this.config.get("apiPath")}/identity/auth/social/state`;return this.http.post(i,{client_id:e,provider_access_token:t,state:s})}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(z.b))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),Y=(()=>{class e{constructor(e,t,s,i,n){this.api=e,this.sdk=t,this.config=s,this.authsConfig=i,this.customEvent=n,this.oauthProviders=null,this.oauthProviders=new Set(this.config.get("mobileAuthProviders")),this.customEvent.customEvent$.subscribe(e=>this.sendCustomEvent({event:e.name,params:e.params}))}isMobileUsed(){return this.sdk.isActive}isMobileOAuthFlow(e){return this.isMobileUsed()&&this.isOAuthProvider(e)}isOAuthProvider(e){return this.oauthProviders.has(e.toLowerCase())}login(e){this.sdk.login(e)}register(e){this.sdk.register(e)}sendCustomEvent(e){this.sdk.customEvent(e)}loginThroughOAuth(e){const t=this.config.get("aid"),s=this.authsConfig.get("linkingState");return this.api.getSocialState(t,e,s).pipe(Object(g.a)(t=>this.transfromSocialCodeResponse(t,e)),Object(M.a)(e=>this.getSocialResponseFromMobile(e)),Object(M.a)(({socialToken:e,code:s})=>this.api.getAccessToken(t,e,s)))}transfromSocialCodeResponse(e,t){const{social_app_id:s,state:i}=e;return{clientId:s,code:i,oauthProvider:t}}getSocialResponseFromMobile(e){return this.sdk.executeSocialLoginAndWaitAnswer(e).pipe(Object(g.a)(e=>JSON.parse(e)),Object(g.a)(t=>Object.assign(Object.assign({},t),{code:e.code})))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(_),Object(i.jc)(c.Fb),Object(i.jc)(c.u),Object(i.jc)(c.k),Object(i.jc)(c.F))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),$=(()=>{class e{constructor(){this.changeSpinnerState$=new r.a(!1)}get isSpinnerVisible$(){return this.changeSpinnerState$.asObservable().pipe(Object(w.a)())}showSpinner(){this.changeSpinnerState$.next(!0)}hideSpinner(){this.changeSpinnerState$.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),q=(()=>{class e{constructor(e,t,s,i,n,c,r,o,a,u){this.config=e,this.customFieldsService=t,this.postMessage=s,this.profileService=i,this.assetsConfig=n,this.error=c,this.tokenService=r,this.events=o,this.formService=a,this.env=u,this.isSubmitting=!1,this.uid="",this.profileSubject=new b.a}get profile$(){return this.profileSubject.asObservable()}submitStep(){if(this.isSubmitting)return u.a;if(!this.customFieldsService.strictValidate())return this.postMessage.send("profileUpdatedError"),u.a;const e={uid:this.uid,form_name:this.assetsConfig.assetsFormName,custom_field_values:this.customFieldsService.getSerializedValues(),hidden_fields:this.customFieldsService.completedFieldsNames,step_id:this.customFieldsService.currentStep.id};return this.error.reset(),this.isSubmitting=!0,this.profileService.update(e).pipe(Object(y.a)(()=>this.isSubmitting=!1),Object(f.a)(({custom_fields_errors:e})=>{if(null==e?void 0:e.length)throw{errors:e.map(e=>({message:e}))}}),Object(j.a)(({update_failed:e})=>!e),Object(C.a)(e=>Object(l.a)([Object(a.a)(e),this.customFieldsService.isCurrentStepLast$.pipe(Object(O.a)(1))])),Object(f.a)(([{token:e=this.tokenService.accessToken},t])=>{const s=c.wc.decode(e);this.tokenService.accessToken=e,this.postMessage.send("profileUpdated",{token:e,user:s},null,null,!0),this.customFieldsService.fieldsImpression$.getValue()&&this.events.cfSubmission(),t&&this.customFieldsService.isAllStepsPassed$.next(!0),this.customFieldsService.setNextStep().subscribe()}),Object(m.a)(e=>(this.postMessage.send("profileUpdatedError",e),this.handleErrors(e),Object(a.a)(null))))}getProfile(){return this.getInfo().pipe(Object(f.a)(e=>{e&&(this.uid=e.uid,this.profileSubject.next(e))}),Object(m.a)(e=>(this.handleErrors(e),Object(a.a)(null))))}handleErrors(e){403===e.status&&this.postMessage.send("tokenRejected"),this.error.set(e.errors)}getInfo(){let e;return e=this.env.mock||this.config.get("isPreview")?Object(a.a)(Object(Z.f)()):this.profileService.get(),e}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(c.K),Object(i.jc)(c.Tb),Object(i.jc)(c.Zb),Object(i.jc)(c.e),Object(i.jc)(c.db),Object(i.jc)(c.xc),Object(i.jc)(c.hb),Object(i.jc)(c.lb),Object(i.jc)(c.T))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{constructor(e,t,s,i,n,c,o,a,b,u,l,d,j,f,O,p,g,m,v,M,w,y,C,S){this.auth=e,this.postMessage=t,this.container=s,this.config=i,this.assetsConfig=n,this.error=c,this.consent=o,this.customFields=a,this.gaService=b,this.lang=u,this.events=l,this.recaptchaV3Service=d,this.spinnerService=j,this.captchaService=f,this.confirmationEmail=O,this.mobileSdk=p,this.screen=g,this.passwordlessConfig=m,this.authsConfig=v,this.tokenService=M,this.windowService=w,this.formService=y,this.gmSsoRedirectParamsService=C,this.userUpdateService=S,this.isRememberMeUsed=!1,this.rememberMe=!1,this.passwordlessLoginInitiated=!1,this.restore$=new h.a,this.saveNewPassword$=new h.a,this.showPassword$=new r.a(!1),this.registerInProcess=!1,this.restoreInProcess=!1,this.subscribeToPostMessages(),this.subscribeToAuthTokenUpdate(),this.subscribeToScreenUpdate(),this.subscribeToCustomFieldsFormSubmit(),this.subscribeToCustomFieldsImpression(),this.subscribingToLangUpdating(),this.subscribingToRecaptcha(),this.postMessage.send("stateReady")}get userEmail(){return this.config.get("email")||this.screen.email||(this.userData?this.userData.email:"")}get isAuthCompleted$(){return Object(l.a)([this.auth.tokenChanged.pipe(Object(g.a)(e=>!!e.access_token)),this.screen.getScreen().pipe(Object(S.a)(this.screen.currentScreen),Object(I.a)(),Object(g.a)(([e,t])=>e===t))]).pipe(Object(g.a)(([e,t])=>e&&t))}get isRememberMe(){return!this.isRememberMeUsed||this.rememberMe}get useReCaptchaV3(){return this.recaptchaV3Service.isReCaptchaV3Enabled()&&!this.captchaService.reCaptchaV2Visible$.getValue()&&this.captchaService.isScreenAvailableForReCaptcha(this.screen.currentScreen)}get userData(){return c.wc.decode(this.tokenService.accessToken)}get isPasswordlessLogin(){const e="login_confirm"===this.screen.currentScreen,t=!1===this.authsConfig.get("isPasswordLinked");return(e?this.passwordlessConfig.passwordless&&t:this.passwordlessConfig.passwordless)||this.passwordlessConfig.createPasswordlessUser||t||this.authsConfig.get("isSocialUserUsesPasswordless")}showLoginFormWithoutPassword(){this.passwordlessConfig.passwordless=!0,this.passwordlessLoginInitiated=!1,this.captchaService.activateReCaptchaV2OnCurrentScreen(!0,this.screen.currentScreen)}login(){const{data:e,isValid:t}=this.screen.submitAndGetFormState();if(!t)return this.postMessage.send("loginResponse",{error:{status:400,errors:["Invalid form"]}}),u.a;const{password:s,recaptchaResponse:i,recaptchaResponse3:n,redirectUri:c,email:r}=e,o={password:s,recaptchaResponse:i,recaptchaResponse3:n,redirectUri:c,login:r,remember:this.isRememberMe};return this.isPasswordlessLogin?this.loginByPasswordless(o):this.loginByPassword(o)}register(){const{data:e,isValid:t}=this.screen.submitAndGetFormState();if("register_confirm"!==this.screen.currentScreen&&this.config.get("disableSignUp")||this.registerInProcess||!t)return u.a;const s=e;return s.consents=this.consent.getConsents(),s.customFieldValues=this.customFields.getSerializedValues(),this.error.reset(),this.registerInProcess=!0,this.spinnerService.showSpinner(),this.waitForCaptchaV3(s).pipe(Object(M.a)(e=>this.auth.register(Object.assign(Object.assign({},e),{remember:this.isRememberMe}))),Object(f.a)(({consent_errors:e,custom_fields_errors:t,social_linking_response:s})=>{if(null==e?void 0:e.length)throw{errors:e.map(e=>({message:e}))};if(null==t?void 0:t.length)throw{errors:t.map(e=>({message:e}))};s&&(this.config.setConfirmConfig(c.u.extractConfirmConfig(s)),this.screen.setScreen("login_confirm")),this.customFields.fieldsImpression$.getValue()&&this.events.cfSubmission()}),Object(m.a)(e=>this.handleServerErrors(e)),Object(y.a)(()=>{this.registerInProcess=!1,this.spinnerService.hideSpinner()}),Object(M.a)(()=>this.customFields.isMultiStepEnabled$.pipe(Object(O.a)(1))),Object(j.a)(e=>e),Object(M.a)(()=>this.userUpdateService.getProfile()),Object(M.a)(()=>this.customFields.setNextStep()))}restore(){const{isValid:e,data:t}=this.screen.submitAndGetFormState();return this.restoreInProcess||!e?u.a:(this.config.get("resetUri")&&(t.resetUri=this.config.get("resetUri")),this.restoreInProcess=!0,this.error.reset(),this.spinnerService.showSpinner(),this.waitForCaptchaV3(t).pipe(Object(M.a)(e=>this.auth.restorePassword(e)),Object(m.a)(e=>this.handleServerErrors(e)),Object(y.a)(()=>{this.spinnerService.hideSpinner(),this.restoreInProcess=!1}),Object(f.a)(()=>this.restore$.next(!0))))}saveNewPassword(){const{data:e,isValid:t}=this.screen.submitAndGetFormState();return t?this.auth.saveNewPassword(Object.assign(Object.assign({},e),{token:this.config.get("resetToken")})).pipe(Object(m.a)(e=>this.handleServerErrors(e)),Object(f.a)(()=>{this.saveNewPassword$.next(!0),this.events.passwordRestored()})):u.a}resendConfirmationEmail(){return this.confirmationEmail.resendAndShowMessage(()=>this.events.confirmationEmailSent(["email_is_not_confirmed","email_confirmation_required"].includes(this.screen.currentScreen),"digital_code"===this.screen.currentScreen))}sendPasswordlessEmail(){const{isValid:e,data:t}=this.screen.submitAndGetFormState(),s=this.screen.getScreenValue("login"),i=(null==s?void 0:s.email)||this.userEmail;if(!e||!i)return u.a;const{password:n,recaptchaResponse:c,recaptchaResponse3:r,redirectUri:o}=s;return this.loginByPasswordless(Object.assign({password:n,recaptchaResponse:c,recaptchaResponse3:r,redirectUri:o,login:i},{recaptchaResponse:t.recaptchaResponse}))}confirmDoiDigitalCode(){return this.auth.confirmDoiDigitalCode(this.formService.get("digitalCode").value.join("")).pipe(Object(m.a)(e=>(this.postMessage.send("loginResponse",{error:e}),this.formService.patchValue({digitalCode:""}),this.handleServerErrors(e))),Object(M.a)(e=>this.mobileSdk.isMobileUsed()?this.loginBySDK():Object(a.a)(e)),Object(f.a)(({show_offer_params:e})=>{this.mobileSdk.isMobileUsed()||(this.config.get("isInsideCheckoutOrTemplate")||this.container.close(),this.events.sendDOIOfferParams(e||"{}"))}))}confirmPasswordlessDigitalCode(){var e;return this.auth.confirmPasswordlessDigitalCode(null===(e=this.formService.get("digitalCode"))||void 0===e?void 0:e.value.join(""),this.userEmail,this.isRememberMe).pipe(Object(m.a)(e=>(this.postMessage.send("loginResponse",{error:e}),this.formService.patchValue({digitalCode:""}),this.handleServerErrors(e))),Object(f.a)(()=>this.postMessage.send("loginResponse",{loggedIn:!0})))}loginBySDK(){return this.auth.tokenChanged.pipe(Object(O.a)(1),Object(j.a)(()=>this.mobileSdk.isMobileUsed()),Object(f.a)(e=>{const t=this.getAuthSuccessData(e);this.handleMobileAuth(e,t.user)}))}handleServerErrors(e){return this.captchaService.activateReCaptchaV2OnCurrentScreen(!!e.forceShowCaptcha,this.screen.currentScreen),this.error.set(e.errors),e.status>=500&&e.status<=526?Object(d.a)(e):u.a}openOrClosePasswordlessConfirmationScreen(e){this.events.passwordlessEmailSent(e),["passwordless_confirmation"].includes(this.screen.currentScreen)?this.container.close():this.assetsConfig.get("isPasswordlessDigitalCodeEnabled")?this.screen.setScreen("digital_code"):this.screen.setScreen("passwordless_confirmation")}showLoginFormWithPassword(e){this.passwordlessConfig.passwordless=!1,this.passwordlessConfig.createPasswordlessUser=!1,this.deactivateCaptcha(e)}loginByPasswordless(e){return this.spinnerService.showSpinner(),this.waitForCaptchaV3(e).pipe(Object(f.a)(()=>this.passwordlessLoginInitiated=!0),Object(M.a)(e=>this.auth.passwordlessLogin(e)),Object(m.a)(e=>(this.postMessage.send("loginResponse",{error:e}),this.handleServerErrors(e))),Object(y.a)(()=>this.spinnerService.hideSpinner()),Object(f.a)(({passwordless:e,token:t,login_token_id:s,key:i})=>{e?(this.openOrClosePasswordlessConfirmationScreen(s),this.postMessage.send("loginResponse",{email_sent:this.userEmail})):t?(this.auth.setToken(t),this.postMessage.send("loginResponse",{userCreated:!0})):(this.showLoginFormWithPassword(i),this.postMessage.send("loginResponse",{usual_user:!0}))}))}loginByPassword(e){return this.spinnerService.showSpinner(),this.waitForCaptchaV3(e).pipe(Object(M.a)(e=>this.auth.login(e)),Object(m.a)(e=>(this.postMessage.send("loginResponse",{error:e}),this.handleServerErrors(e))),Object(y.a)(()=>this.spinnerService.hideSpinner()),Object(f.a)(()=>this.postMessage.send("loginResponse",{loggedIn:!0})))}deactivateCaptcha(e){this.captchaService.activateReCaptchaV2OnCurrentScreen(!1,this.screen.currentScreen),this.screen.setScreenValue("login","recaptchaResponse",e)}subscribeToScreenUpdate(){this.screen.getScreen().subscribe(e=>{switch(this.events.changeScreen(e),e){case"login":this.gaService.emitEvent("loginDisplayed","Login displayed");break;case"register":this.gaService.emitEvent("registrationDisplayed","Registration displayed");break;case"register_confirm":this.formService.removeControls()}this.formService.clear(),this.formService.enable()}),this.screen.getScreen().pipe(function(e,t=!1){return s=>s.lift(new E(e,t))}(()=>this.assetsConfig.useCaptcha)).subscribe(e=>this.captchaService.forceShowReCaptcha(e))}subscribeToPostMessages(){this.postMessage.getMessages("close").subscribe(()=>this.container.close()),this.postMessage.getMessages("submitLoginForm").pipe(Object(C.a)(()=>this.login())).subscribe()}subscribeToCustomFieldsFormSubmit(){this.customFields.submit$.pipe(Object(j.a)(()=>["register","register_confirm"].includes(this.screen.currentScreen)),Object(M.a)(()=>this.register())).subscribe()}subscribeToAuthTokenUpdate(){this.auth.tokenChanged.pipe(Object(C.a)(e=>this.assetsConfig.get("gmSsoEnabled")?this.auth.gmSsoSetParentCookie().pipe(Object(g.a)(t=>e)):Object(a.a)(e)),Object(C.a)(e=>Object(l.a)([Object(a.a)(e),this.customFields.isMultiStepEnabled$.pipe(Object(k.a)()),this.customFields.isAllStepsPassed$.pipe(Object(k.a)())])),Object(j.a)(([e,t,s])=>!["register","register_confirm"].includes(this.screen.currentScreen)||!t||s)).subscribe(([e])=>{const t=this.getAuthSuccessData(e);e.registration?(this.events.authSuccess("registrationSuccess",Object.assign({},t)),this.gaService.emitEvent("registrationSuccess","Registration success",{}),t&&(t.areCookiesSet=!0)):this.gaService.emitEvent("loginSuccess","Login success"),this.mobileSdk.isMobileUsed()?e.email_confirmation_required?this.screen.setScreen(e.registration?"email_is_not_confirmed":"email_confirmation_required"):this.handleMobileAuth(e,t.user):this.config.get("redirectUri")?this.redirectAfterAuth(e):this.config.get("internalRedirectUri")?this.container.redirect(this.config.get("internalRedirectUri"),{piano_social_token:e.access_token}):e.access_token&&(this.events.loginSuccess(t),this.config.get("verificationCode")?this.screen.setScreen("email_confirmation"):e.email_confirmation_required&&this.screen.setScreen(e.registration?"email_is_not_confirmed":"email_confirmation_required"))})}getAuthSuccessData(e){if(!(null==e?void 0:e.access_token))return;const{access_token:t,registration:s,email_confirmation_required:i}=e;return{token:t,user:Object.assign(Object.assign({},c.wc.decode(t)),{email_confirmation_required:i,rememberMe:this.isRememberMe}),cookie_domain:this.assetsConfig.get("siteCookieDomain"),registration:s,extendExpiredAccessEnabled:this.assetsConfig.get("isExtendExpiredAccessEnabled"),stage:this.config.get("stage")}}handleMobileAuth({access_token:e,refresh_token:t,registration:s},{exp:i}){const n={expiresIn:i,accessToken:e,refreshToken:t};s?this.mobileSdk.register(n):this.mobileSdk.login(n)}redirectAfterAuth({code:e,email_confirmation_required:t,registration:s,access_token:i}){let n={state:this.config.get("state")};"code"===this.config.get("responseType")?(e&&(n.code=e,this.auth.storeAuthCode(e)),t&&(n.email_is_not_confirmed=s?"registration":"login")):n.token=i,this.config.get("isGmSsoRedirectEnabled")&&(n=Object.assign(Object.assign({},n),this.gmSsoRedirectParamsService.addGmSsoRedirectParams(n,this.isRememberMe))),this.container.redirect(this.config.get("redirectUri"),n)}subscribeToCustomFieldsImpression(){this.customFields.fieldsFirstImpression.subscribe(()=>this.events.cfImpression())}subscribingToLangUpdating(){this.lang.$langUpdated.subscribe(()=>this.error.reset())}subscribingToRecaptcha(){this.recaptchaV3Service.isReCaptchaV3Enabled$.pipe(Object(j.a)(e=>e),Object(M.a)(()=>this.recaptchaV3Service.watchOnReCaptchaV3Loaded()),Object(g.a)(()=>this.captchaService.isScreenAvailableForReCaptcha(this.screen.currentScreen))).subscribe(e=>this.recaptchaV3Service.handleReCaptchaV3BadgeVisibility(e))}waitForCaptchaV3(e){return this.useReCaptchaV3?this.recaptchaV3Service.execute(this.screen.currentScreen).pipe(Object(g.a)(t=>Object.assign(Object.assign({},e),{recaptchaResponse3:t}))):Object(a.a)(e)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.j),Object(i.jc)(c.Tb),Object(i.jc)(c.z),Object(i.jc)(c.u),Object(i.jc)(c.e),Object(i.jc)(c.db),Object(i.jc)(c.y),Object(i.jc)(c.K),Object(i.jc)(c.nb),Object(i.jc)(c.xb),Object(i.jc)(c.hb),Object(i.jc)(P),Object(i.jc)($),Object(i.jc)(F),Object(i.jc)(c.v),Object(i.jc)(Y),Object(i.jc)(c.fc),Object(i.jc)(c.Pb),Object(i.jc)(c.k),Object(i.jc)(c.xc),Object(i.jc)(c.Gc),Object(i.jc)(c.lb),Object(i.jc)(c.mb),Object(i.jc)(q))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e{constructor(e,t,s,i,n,c,r,o,a,b,u,l){this.config=e,this.container=t,this.error=s,this.mobileAuth=i,this.authService=n,this.screen=c,this.postMessage=r,this.passwordlessConfig=o,this.state=a,this.windowService=b,this.userAgentService=u,this.appleOAuthService=l,this.socialResponseId$=new h.a,this.postMessage.getMessages("socialLoginCallback").subscribe(e=>this.socialResponseId$.next(e)),this.subscribeToSocialResponseId();const d=this.config.get("socialResponseId");d&&this.socialResponseId$.next(d)}socialLogin(e){this.error.reset();const t={social_type:e,back_url:this.container.backUrl,redirect_uri:this.container.originUrl};return e===c.oc.APPLE&&this.mobileAuth.isMobileUsed()&&!this.windowService.inIframe()&&this.userAgentService.isSafariWebView()?this.appleOAuthService.signIn().pipe(Object(g.a)(e=>c.j.transformSocialResponse(e)),Object(f.a)(e=>this.handleSocialResponse(e))):this.mobileAuth.isMobileOAuthFlow(e)?this.mobileAuth.loginThroughOAuth(t.social_type).pipe(Object(g.a)(e=>this.transformSocialResponse(e)),Object(f.a)(e=>this.handleSocialResponse(e))):Object(a.a)(this.container.openPopup(this.authService.getSocialLoginUrl(t),"pianoid-auth"))}subscribeToSocialResponseId(){this.socialResponseId$.pipe(Object(k.a)(),Object(C.a)(e=>this.authService.getSocialAuthResponse(e)),Object(g.a)(e=>this.transformSocialResponse(e))).subscribe(e=>{this.passwordlessConfig.createPasswordlessUser=!1,this.handleSocialResponse(e)})}transformSocialResponse(e){const t={};switch(t.status=e.status,t.error_message=e.error_message,t.warn_message=e.warn_message,e.status){case"ok":t.access_token=e.access_token,t.code=e.code,t.refresh_token=e.refresh_token,t.registration=e.registration;break;case"confirm":t.linking_state=e.linking_state,t.email=e.email,t.first_name=e.first_name,t.last_name=e.last_name,t.password_linked=e.password_confirmation_available,t.apple_linked=e.apple_confirmation_available,t.facebook_linked=e.facebook_confirmation_available,t.google_linked=e.google_confirmation_available,t.twitter_linked=e.twitter_confirmation_available,t.linkedin_linked=e.linked_in_confirmation_available,t.social_type=e.social_type;break;case"passwordless":t.login_token_id=e.login_token_id,t.email=e.email;break;case"additional_input":t.additional_state=e.additional_input_state,t.need_email=e.need_email,t.social_type=e.social_type,t.redirect_uri=e.redirect_uri}return t}handleSocialResponse(e){switch(e.status&&(this.state.rememberMe=!0),e.status){case"ok":this.authService.setToken(e,this.state.rememberMe);break;case"confirm":this.config.setConfirmConfig(e),this.screen.email=e.email,this.screen.setScreen("login_confirm");break;case"passwordless":this.config.setPasswordlessConfig(e),this.screen.email=e.email,this.state.openOrClosePasswordlessConfirmationScreen(e.login_token_id);break;case"additional_input":this.config.setAdditionalConfig(e),this.screen.setScreen("register_confirm");break;default:e.error_message&&console.log(`SOCIAL LOGIN FAILED: ${e.error_message}`),e.warn_message&&this.error.set([{message:e.warn_message}])}}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(c.z),Object(i.jc)(c.db),Object(i.jc)(Y),Object(i.jc)(c.j),Object(i.jc)(c.fc),Object(i.jc)(c.Tb),Object(i.jc)(c.Pb),Object(i.jc)(B),Object(i.jc)(c.Gc),Object(i.jc)(c.Ac),Object(i.jc)(c.d))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),X=(()=>{class e{constructor(e,t,s){this.container=e,this.title=t,this.langSettings=s}configure(e){this.title.setTitle("Authorization"),this.container.preventScroll(),this.langSettings.configureLang(e).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.z),Object(i.jc)(R.b),Object(i.jc)(c.Gb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),W=(()=>{class e{static forRoot(){return{ngModule:e,providers:[Y]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({providers:[Y,_,c.Fb],imports:[[n.c]]}),e})();class K{constructor(e,t){this.state=e,this.config=t}onClickEvent(e){if(this.config.get("isPreview"))return;e.preventDefault();const t=document.getElementById("autofill-submit");t&&"function"==typeof t.click&&t.click(),this.onClick()}onClick(){}}let H=(()=>{class e extends K{constructor(e,t){super(e,t),this.state=e,this.config=t}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.login().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionLogin",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),J=(()=>{class e extends K{constructor(e,t,s,i,n){super(e,t),this.state=e,this.config=t,this.el=s,this.renderer=i,this.currentScreenService=n,this.config.get("disableSignUp")&&"register_confirm"!==this.currentScreenService.screen&&this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled")}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.register().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u),Object(i.Zb)(i.q),Object(i.Zb)(i.Q),Object(i.Zb)(c.C))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionRegister",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),ee=(()=>{class e extends K{constructor(e,t){super(e,t),this.state=e,this.config=t}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.resendConfirmationEmail().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionResendConfirmationEmail",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),te=(()=>{class e extends K{constructor(e,t){super(e,t),this.state=e,this.config=t}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.restore().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionRestore",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),se=(()=>{class e extends K{constructor(e,t){super(e,t),this.state=e,this.config=t}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.saveNewPassword().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionSaveNewPassword",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),ie=(()=>{class e extends K{constructor(e,t,s,i,n){super(e,t),this.state=e,this.config=t,this.events=s,this.container=i,this.assetsConfig=n}onClickEvent(e){super.onClickEvent(e)}onClick(){this.state.sendPasswordlessEmail().subscribe(()=>{this.assetsConfig.get("isPasswordlessDigitalCodeEnabled")||this.container.close()})}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u),Object(i.Zb)(c.hb),Object(i.Zb)(c.z),Object(i.Zb)(c.e))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionResendPasswordlessEmail",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),ne=(()=>{class e{constructor(e){this.container=e}onClick(){this.container.close()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.z))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionClose",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClick(e)})}}),e})(),ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),re=(()=>{class e extends c.n{constructor(e,t,s,i,n,c,r,o,a,b){super(e,t,s,a,n,c,b),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.errorService=n,this.elementRef=c,this.renderer=r,this.rendererService=o,this.displayableValidatorErrorsService=a,this.controlMobileZoomService=b,this.name="email",this.validators=[],this.autocorrect="off",this.autocapitalize="off",this.isRequired=!1,this.hasErrors=!1}ngOnInit(){super.ngOnInit(),this.renderer.setValue(this.elementRef.nativeElement,this.config.get("email")),this.rendererService.createText(this.elementRef.nativeElement,this.config.get("email")),this.renderer.setAttribute(this.elementRef.nativeElement,"value",this.config.get("email")),this.onChange(this.config.get("email"))}onEnterEvent(){}onInputEvent(){}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(B),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(i.Q),Object(i.Zb)(c.Lb),Object(i.Zb)(c.S),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldConfirmEmail",""]],hostVars:2,hostBindings:function(e,t){2&e&&Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize)},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),e})(),oe=(()=>{class e extends c.n{constructor(e,t,s,i,n,r,o,a,b,u){super(e,t,s,b,n,o,u),this.form=e,this.config=t,this.assetsConfig=s,this.passwordlessConfig=i,this.errorService=n,this.state=r,this.elementRef=o,this.document=a,this.displayableValidatorErrorsService=b,this.controlMobileZoomService=u,this.name="email",this.validators=[{formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required}],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1,this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){e.value!==this.control.value&&this.state.passwordlessLoginInitiated&&!this.passwordlessConfig.passwordless&&this.passwordlessConfig.passwordlessInitialValue&&this.state.showLoginFormWithoutPassword(),this.onChange(e.value)}onEnterEvent(){this.state.login().subscribe()}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.handleAutofilledPassword()}ngOnDestroy(){this.passwordlessSub&&this.passwordlessSub.unsubscribe(),super.ngOnDestroy()}handleAutofilledPassword(){this.passwordlessSub=this.passwordlessConfig.isPasswordless$.pipe(Object(k.a)(),Object(f.a)(e=>e?this.appendPasswordInputMock():this.removePasswordInputMock()),Object(j.a)(e=>!1===e),Object(A.a)(0),Object(f.a)(()=>this.form.patchValue({password:this.autofilledPassword}))).subscribe()}appendPasswordInputMock(){const e=this.document.createElement("input");e.type="password",e.style.display="none",e.onchange=e=>{this.autofilledPassword=e.target.value},this.elementRef.nativeElement.parentElement.after(e),this.passwordMockElement=e}removePasswordInputMock(){this.passwordMockElement&&this.passwordMockElement.parentElement.removeChild(this.passwordMockElement)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(c.Pb),Object(i.Zb)(c.db),Object(i.Zb)(B),Object(i.Zb)(i.q),Object(i.Zb)(n.d),Object(i.Zb)(c.S),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldLoginEmail",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[HTMLInputElement]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),ae=(()=>{class e extends c.n{constructor(e,t,s,i,n,r,o,a){super(e,t,s,n,r,o,a),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=r,this.elementRef=o,this.controlMobileZoomService=a,this.name="password",this.validators=[{formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required}],this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.login().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(B),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldLoginPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),be=(()=>{class e extends c.o{constructor(e,t,s,i,n,c,r,o){super(e,t,s,n,c,r,o),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="password",this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.register().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(B),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldRegisterPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),ue=(()=>{class e extends c.n{constructor(e,t,s,i,n,c,r,o,a,b){super(t,e,s,n,c,r,o),this.config=e,this.form=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.userUpdateService=a,this.customFieldsService=b,this.name="last_name",this.validators=[],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.register().subscribe()}ngOnInit(){if(this.assetsConfig.get("enableFeValidation")){const e=!!this.assetsConfig.get("isFirstAndLastNamesRequired");this.isRequired=e,e&&this.validators.push({formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required})}super.ngOnInit(),Object(l.a)([this.userUpdateService.profile$,this.customFieldsService.isMultiStepEnabled$]).pipe(Object(j.a)(()=>!this.isDisabled),Object(j.a)(([e,t])=>t),Object(g.a)(([e])=>e.last_name),Object(j.a)(e=>!e||e!==this.control.value)).subscribe(e=>{this.control.setValue(e),this.isDisabled=!0,this.control.disable()})}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.u),Object(i.Zb)(c.lb),Object(i.Zb)(c.e),Object(i.Zb)(B),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B),Object(i.Zb)(q),Object(i.Zb)(c.K))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldRegisterLastName",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("required",t.isRequired)("has-errors",t.hasErrors))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),le=(()=>{class e extends c.n{constructor(e,t,s,i,n,c,r,o){super(e,t,s,n,c,r,o),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="password",this.validators=[],this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation")}setValidators(e){const t=this.assetsConfig.get("passwordSecuritySettings"),s=c.Ob.buildValidators(t).filter(e=>this.displayableValidatorErrorsService.isDisplayable(this.name,e.errorType)).map(e=>({formValidator:!1,errorName:e.errorType,validator:e.validator}));e.push(...e),super.setValidators(s)}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.saveNewPassword().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(B),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldSaveNewPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),he=(()=>{class e extends c.n{constructor(e,t,s,i,n,r,o,a,b,u){super(e,t,i,n,r,o,a),this.form=e,this.config=t,this.state=s,this.assetsConfig=i,this.displayableValidatorErrorsService=n,this.errorService=r,this.elementRef=o,this.controlMobileZoomService=a,this.userUpdateService=b,this.customFieldsService=u,this.name="email",this.validators=[{formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required}],this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation"),this.hasErrors=!1}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.register().subscribe()}ngOnInit(){super.ngOnInit(),Object(l.a)([this.userUpdateService.profile$,this.customFieldsService.isMultiStepEnabled$]).pipe(Object(j.a)(()=>!this.isDisabled),Object(j.a)(([e,t])=>t),Object(g.a)(([e])=>e.email),Object(j.a)(e=>!e||e!==this.control.value)).subscribe(e=>{this.control.setValue(e),this.isDisabled=!0,this.control.disable()})}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(B),Object(i.Zb)(c.e),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B),Object(i.Zb)(q),Object(i.Zb)(c.K))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldRegisterEmail",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("required",t.isRequired)("has-errors",t.hasErrors))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),de=(()=>{class e extends c.n{constructor(e,t,s,i,n,c,r,o,a,b){super(s,e,t,n,c,r,o),this.config=e,this.assetsConfig=t,this.form=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.userUpdateService=a,this.customFieldsService=b,this.name="first_name",this.validators=[],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.register().subscribe()}ngOnInit(){if(this.assetsConfig.get("enableFeValidation")){const e=!!this.assetsConfig.get("isFirstAndLastNamesRequired");this.isRequired=e,e&&this.validators.push({formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required})}super.ngOnInit(),Object(l.a)([this.userUpdateService.profile$,this.customFieldsService.isMultiStepEnabled$]).pipe(Object(j.a)(()=>!this.isDisabled),Object(j.a)(([e,t])=>t),Object(g.a)(([e])=>e.first_name),Object(j.a)(e=>!e||e!==this.control.value)).subscribe(e=>{this.control.setValue(e),this.isDisabled=!0,this.control.disable()})}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(c.lb),Object(i.Zb)(B),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B),Object(i.Zb)(q),Object(i.Zb)(c.K))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldRegisterFirstName",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("required",t.isRequired)("has-errors",t.hasErrors))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[Object]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),je=(()=>{class e{constructor(e){this.state=e,this.state.isRememberMeUsed=!0}ngOnInit(){this.state.rememberMe="true"===this.byDefault}onChange(e){this.state.rememberMe=e}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["remember-me"]],inputs:{byDefault:"byDefault"},decls:1,vars:1,consts:[[3,"checked","changed"]],template:function(e,t){1&e&&(Object(i.fc)(0,"checkbox",0),Object(i.nc)("changed",function(e){return t.onChange(e)}),Object(i.ec)()),2&e&&Object(i.wc)("checked",t.state.rememberMe)},directives:[c.r],encapsulation:2}),e})(),fe=(()=>{class e extends c.n{constructor(e,t,s,i,n,r,o,a,b){super(e,t,i,r,o,a,b),this.form=e,this.config=t,this.state=s,this.assetsConfig=i,this.passwordlessConfig=n,this.displayableValidatorErrorsService=r,this.errorService=o,this.elementRef=a,this.controlMobileZoomService=b,this.name="email",this.validators=[{formValidator:!1,errorName:c.Bc.REQUIRED,validator:V.n.required}],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1,this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){e.value!==this.control.value&&this.state.passwordlessLoginInitiated&&!this.passwordlessConfig.passwordless&&this.passwordlessConfig.passwordlessInitialValue&&this.state.showLoginFormWithoutPassword(),this.onChange(e.value)}onEnterEvent(){this.state.restore().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.u),Object(i.Zb)(B),Object(i.Zb)(c.e),Object(i.Zb)(c.Pb),Object(i.Zb)(c.S),Object(i.Zb)(c.db),Object(i.Zb)(i.q),Object(i.Zb)(c.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldRestoreEmail",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:c.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(U.a)([Object(c.Q)(),Object(U.b)("design:type",Function),Object(U.b)("design:paramtypes",[HTMLInputElement]),Object(U.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),Oe=(()=>{class e{constructor(e,t,s){this.state=e,this.el=t,this.renderer=s,this.onDestroy=new h.a}ngOnInit(){"password"!==this.el.nativeElement.type&&this.state.showPassword$.next(!0),this.state.showPassword$.pipe(Object(T.a)(this.onDestroy)).subscribe(e=>this.switchPassword(e))}switchPassword(e){this.renderer.setAttribute(this.el.nativeElement,"type",e?"text":"password")}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(i.q),Object(i.Zb)(i.Q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldLoginPassword",""],["","fieldRegisterPassword",""],["","fieldSaveNewPassword",""],["","fieldConfirmPassword",""]]}),e})(),pe=(()=>{class e{constructor(e,t,s){this.element=e,this.renderer=t,this.errorService=s}ngOnInit(){this.errorService.getFieldErrors(this.fieldName).pipe(Object(f.a)(()=>this.clearExistingErrors()),Object(g.a)(e=>e.map(e=>e.message))).subscribe(e=>e.forEach(e=>{const t=this.createErrorContainerElement(e);this.renderer.appendChild(this.element.nativeElement,t)}))}createErrorContainerElement(e){const t=e[0].toUpperCase()+e.slice(1),s=this.renderer.createElement("div");return this.renderer.appendChild(s,this.renderer.createText(t)),s}clearExistingErrors(){this.element.nativeElement.innerHTML=""}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q),Object(i.Zb)(i.Q),Object(i.Zb)(c.db))},e.\u0275dir=Object(i.Ub)({type:e}),e})(),ge=(()=>{class e extends pe{constructor(e,t,s){super(e,t,s),this.element=e,this.renderer=t,this.errorService=s,this.fieldName="email"}ngOnInit(){super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q),Object(i.Zb)(i.Q),Object(i.Zb)(c.db))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","setEmailServerErrorMessage",""]],features:[i.Lb]}),e})(),me=(()=>{class e extends pe{constructor(e,t,s){super(e,t,s),this.element=e,this.renderer=t,this.errorService=s,this.fieldName="password"}ngOnInit(){super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q),Object(i.Zb)(i.Q),Object(i.Zb)(c.db))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","setPasswordServerErrorMessage",""]],features:[i.Lb]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c,c.s]]}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),we=(()=>{class e{constructor(e,t,s,i){this.form=e,this.errors=t,this.lang=s,this.assetsConfig=i,this.onDestroy=new h.a,this.name="recaptchaResponse",this.control=new V.c("")}onResolve(e){this.control.setValue(e),e&&this.errors.reset()}ngOnInit(){this.form.addControl(this.name,this.control),this.assetsConfig.get("enableFeValidation")&&this.validateCaptcha()}validateCaptcha(){this.control.setValidators(V.n.required),this.form.isSubmitted().pipe(Object(T.a)(this.onDestroy),Object(g.a)(()=>this.control.invalid),Object(j.a)(e=>e)).subscribe(()=>this.showError())}showError(){this.errors.set([{message:this.lang.trc("piano.id","Captcha verification is required.")}])}ngOnDestroy(){this.form.removeControl(this.name)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(c.db),Object(i.Zb)(c.xb),Object(i.Zb)(c.e))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["recaptcha"]],hostBindings:function(e,t){1&e&&Object(i.nc)("resolved",function(e){return t.onResolve(e)})}}),e})();function ye(e,t){if(1&e){const e=Object(i.gc)();Object(i.dc)(0),Object(i.fc)(1,"recaptcha",1),Object(i.nc)("resolved",function(){return Object(i.Hc)(e),Object(i.pc)().resolved()}),Object(i.qc)(2,"async"),Object(i.ec)(),Object(i.cc)()}if(2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("size",Object(i.rc)(2,2,e.size$))("siteKey",e.siteKey)}}let Ce=(()=>{class e extends x.b{}return e.\u0275fac=function(t){return Se(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["recaptcha"]],features:[i.Lb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const Se=Object(i.hc)(Ce);let Ie=(()=>{class e{constructor(e,t,s,i,n,c,r){this.captchaState=e,this.config=t,this.assetsConfig=s,this.recaptchaConfig=i,this.container=n,this.browser=c,this.windowRef=r,this.onDestroy$=new h.a,this.showCaptcha$=this.captchaState.reCaptchaV2Visible$.pipe(Object(j.a)(()=>this.useCaptcha),Object(A.a)(300)),this.size$=this.getSize(),this.siteKey=this.recaptchaConfig.get("recaptchaSiteKey")}getSize(){return this.showCaptcha$.pipe(Object(j.a)(e=>e),Object(g.a)(()=>this.container.getWidgetWidth()),Object(g.a)(e=>!e||e<400?"compact":"regular"))}get useCaptcha(){return this.assetsConfig.useCaptcha&&!!this.recaptchaConfig.get("recaptchaSiteKey")}resolved(){if(this.browser.isSafari)try{this.windowRef.innerWidth=this.container.getWidgetWidth()}catch(e){}}ngAfterViewInit(){this.showCaptcha$.pipe(Object(j.a)(e=>e),Object(L.a)(1),Object(j.a)(()=>!!this.recaptcha),Object(T.a)(this.onDestroy$)).subscribe(()=>this.recaptcha.reset()),this.showCaptcha$.pipe(Object(M.a)(()=>this.captchaState.recaptchaSizeObserver$),Object(T.a)(this.onDestroy$)).subscribe()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(F),Object(i.Zb)(c.u),Object(i.Zb)(c.e),Object(i.Zb)(c.ac),Object(i.Zb)(c.z),Object(i.Zb)(c.q),Object(i.Zb)(c.Fc))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["re-captcha"]],viewQuery:function(e,t){if(1&e&&Object(i.Rc)(Ce,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.recaptcha=e.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"re-captcha",3,"size","siteKey","resolved"]],template:function(e,t){1&e&&(Object(i.Mc)(0,ye,3,4,"ng-container",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.showCaptcha$))},directives:[n.k,Ce,we],pipes:[n.b],encapsulation:2}),e})(),Ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})();function Ee(e,t){return 0===t&&e||1===t&&!e}let De=(()=>{class e{constructor(e,t,s){this.view=e,this.state=t,this.viewManager=s,this.when=0}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.state.saveNewPassword$.pipe(Object(g.a)(e=>!Ee(e,this.when)),Object(S.a)(!0))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(B),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","beforeNewPasswordRequired",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),ke=(()=>{class e{constructor(e,t,s){this.view=e,this.state=t,this.viewManager=s,this.when=0}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.state.restore$.pipe(Object(g.a)(e=>!Ee(e,this.when)),Object(S.a)(!0))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(B),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","beforeRestoreRequired",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Ae=(()=>{class e{constructor(e,t,s){this.view=e,this.state=t,this.viewManager=s,this.when=1}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.state.restore$.pipe(Object(g.a)(e=>!Ee(e,this.when)),Object(S.a)(!1))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(B),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","afterRestoreRequired",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Te=(()=>{class e{constructor(e,t,s){this.view=e,this.state=t,this.viewManager=s,this.when=1}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.state.saveNewPassword$.pipe(Object(g.a)(e=>!Ee(e,this.when)),Object(S.a)(!1))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(B),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","afterNewPasswordRequired",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),xe=(()=>{class e{constructor(e,t,s,i){this.screenService=e,this.config=t,this.el=s,this.rendererService=i,this.tabindex="0"}ngOnInit(){this.config.get("disableSignUp")&&("register"===this.showScreen&&this.detach(),"login"===this.showScreen&&(this.sub=this.screenService.getScreen().pipe(Object(j.a)(e=>"login"===e)).subscribe(()=>this.detach())))}detach(){this.rendererService.detachView(this.el.nativeElement)}onClick(){this.config.get("isPreview")||this.screenService.setScreen(this.showScreen)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.fc),Object(i.Zb)(c.u),Object(i.Zb)(i.q),Object(i.Zb)(c.Lb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showScreen",""]],hostVars:1,hostBindings:function(e,t){1&e&&Object(i.nc)("keydown.enter",function(){return t.onClick()})("keydown.space",function(){return t.onClick()})("click",function(){return t.onClick()}),2&e&&Object(i.Pb)("tabindex",t.tabindex)},inputs:{showScreen:"showScreen"}}),e})(),ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),Ze=(()=>{class e{constructor(e,t,s){this.view=e,this.authsConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return this.authsConfig.isAnySocialAuthAvailable}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.k),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfSocialAuthAvailable",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Re=(()=>{class e{constructor(e,t,s){this.view=e,this.authsConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!this.authsConfig.isAnySocialAuthAvailable}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.k),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfSocialAuthNotAvailable",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Ue=(()=>{class e{constructor(e,t,s){this.view=e,this.authsConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return this.authsConfig.get("isPasswordLinked")&&!this.authsConfig.get("isSocialUserUsesPasswordless")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.k),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordAuthAvailable",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Ve=(()=>{class e{constructor(e,t,s){this.view=e,this.authsConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!this.authsConfig.get("isPasswordLinked")||this.authsConfig.get("isSocialUserUsesPasswordless")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.k),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordAuthNotAvailable",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Pe=(()=>{class e{constructor(e,t,s){this.view=e,this.config=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return this.config.get("isNeedEmail")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfEmailNeeded",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),Fe=(()=>{class e{constructor(e,t,s){this.state=e,this.renderer=t,this.el=s,this.onDestroy$=new h.a}ngOnInit(){this.observer.pipe(Object(T.a)(this.onDestroy$)).subscribe({next:e=>this.onSwitch(e)})}onSwitch(e){const t=this.isVisible(e)?"block":"none";this.renderer.setStyle(this.el.nativeElement,"display",t)}isVisible(e){return!1}get observer(){return this.state.showPassword$}setShowPassword(e){this.state.showPassword$.next(e)}ngOnDestroy(){this.onDestroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e}),e})();const _e=["hidePassword",""],Ye=["*"];let $e=(()=>{class e extends Fe{constructor(e,t,s){super(e,t,s),this.state=e,this.renderer=t,this.el=s}onClickEvent(){this.setShowPassword(!1),this.onSwitch(!1)}isVisible(e){return e}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["","hidePassword",""],["","hideLoginPassword",""],["","hideRegisterPassword",""],["","hideNewPassword",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClickEvent()})},features:[i.Lb],attrs:_e,ngContentSelectors:Ye,decls:1,vars:0,template:function(e,t){1&e&&(Object(i.vc)(),Object(i.uc)(0))},encapsulation:2}),e})();const qe=["showPassword",""],Be=["*"];let Ge=(()=>{class e extends Fe{constructor(e,t,s){super(e,t,s),this.state=e,this.renderer=t,this.el=s}onClickEvent(){this.setShowPassword(!0),this.onSwitch(!0)}isVisible(e){return!e}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["","showPassword",""],["","showLoginPassword",""],["","showRegisterPassword",""],["","showNewPassword",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClickEvent()})},features:[i.Lb],attrs:qe,ngContentSelectors:Be,decls:1,vars:0,template:function(e,t){1&e&&(Object(i.vc)(),Object(i.uc)(0))},encapsulation:2}),e})(),Xe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),We=(()=>{class e{constructor(e,t){this.state=e,this.config=t,this.innerHtml="",this.innerHtml=this.config.get("isPreview")?"some.user@example.com":this.state.userEmail}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(B),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","userEmail",""]],hostVars:1,hostBindings:function(e,t){2&e&&Object(i.ic)("innerHTML",t.innerHtml,i.Ic)}}),e})(),Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})();var He=function(e){return e[e.CONFIRMED=0]="CONFIRMED",e[e.ALREADY_CONFIRMED=50002]="ALREADY_CONFIRMED",e[e.EXPIRED=50001]="EXPIRED",e}({});let Je=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.verificationCodeService=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.verificationCodeService.getResponse().pipe(Object(g.a)(e=>e.code===He.ALREADY_CONFIRMED),Object(S.a)(!1))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Dc),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfVerificationCodeAlreadyConfirmed",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),et=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.verificationCodeService=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.verificationCodeService.getResponse().pipe(Object(g.a)(e=>this.isPaymentOrGift(e.type)),Object(S.a)(!1))}isPaymentOrGift(e){return"PAYMENT"===e||"GIFT"===e}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Dc),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfVerificationCodeCanStartCheckout",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),tt=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.verificationCodeService=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.config.get("isPreview")?Object(a.a)(!0):this.verificationCodeService.getResponse().pipe(Object(g.a)(e=>e.code===He.CONFIRMED),Object(S.a)(!1))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Dc),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfVerificationCodeConfirmed",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),st=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.verificationCodeService=s,this.viewManager=i,this.codes=new Set([He.EXPIRED,He.CONFIRMED,He.ALREADY_CONFIRMED])}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.verificationCodeService.getResponse().pipe(Object(g.a)(e=>this.isErrorCode(e.code)),Object(S.a)(!1))}isErrorCode(e){return!this.codes.has(e)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Dc),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfVerificationCodeError",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),it=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.verificationCodeService=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.verificationCodeService.getResponse().pipe(Object(g.a)(e=>e.code===He.EXPIRED),Object(S.a)(!1))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Dc),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfVerificationCodeExpired",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),nt=(()=>{class e{constructor(e,t){this.verificationCodeService=e,this.config=t,this.display="none"}ngOnInit(){this.renderDisplayStyle(!1),this.subscription=this.verificationCodeService.verificationCodeResponse.pipe(Object(j.a)(e=>!!e)).subscribe(this.update.bind(this))}ngOnDestroy(){this.subscription.unsubscribe()}renderDisplayStyle(e,t="inline"){"inline"===t&&(this.display=e?"inline":"none"),"block"===t&&(this.display=e?"block":"none")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.Dc),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e}),e})(),ct=(()=>{class e extends nt{constructor(e,t,s){super(e,t),this.verificationCodeService=e,this.config=t,this.eventsService=s,this.display="none"}update(e){this.renderDisplayStyle(!0)}onClickEvent(e){e.preventDefault();const t=this.verificationCodeService.verificationCodeResponse.getValue();(null==t?void 0:t.show_offer_params)&&this.eventsService.verificationCodeStartCheckout(t.show_offer_params)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.Dc),Object(i.Zb)(c.u),Object(i.Zb)(c.hb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionVerificationCodeStartCheckout",""]],hostVars:2,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)}),2&e&&Object(i.Lc)("display",t.display)},features:[i.Lb]}),e})(),rt=(()=>{class e extends nt{constructor(e,t,s,i,n){super(e,t),this.verificationCodeService=e,this.config=t,this.renderer=s,this.el=i,this.langService=n,this.display="none"}ngOnInit(){super.ngOnInit(),this.langChangedSubscription=this.langService.onLangChange().subscribe(()=>this.update())}ngOnDestroy(){super.ngOnDestroy(),this.langChangedSubscription.unsubscribe()}update(e){const t=this.getMessage(e),s=this.renderer.createText(this.langService.trc("piano.id",t));this.removeTextElement(),this.renderer.appendChild(this.el.nativeElement,s),this.renderDisplayStyle(!0)}getMessage(e){return(null==e?void 0:e.message)?e.message:this.verificationCodeService.verificationCodeResponse.getValue()?this.verificationCodeService.verificationCodeResponse.getValue().message:""}removeTextElement(){const e=this.el.nativeElement.childNodes;for(const t of e)this.renderer.removeChild(this.el.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.Dc),Object(i.Zb)(c.u),Object(i.Zb)(i.Q),Object(i.Zb)(i.q),Object(i.Zb)(c.xb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","verificationCodeError",""]],hostVars:2,hostBindings:function(e,t){2&e&&Object(i.Lc)("display",t.display)},features:[i.Lb]}),e})(),ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),at=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.passwordlessConfig=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return this.passwordlessConfig.passwordlessSuccess}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showAfterPasswordlessAuth",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),bt=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.viewManager=s,this.error=i,this.isVisible()&&this.error.set([{message:this.config.get("jsonpError").error_description}])}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!!this.config.get("jsonpError")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Ec),Object(i.Zb)(c.db))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordlessAuthFailed",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),ut=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.passwordlessConfig=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!(this.config.get("customEvents")||this.config.get("jsonpError")||this.config.get("customParams")||this.passwordlessConfig.passwordlessSuccess)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordlessLinkSent",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),lt=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.passwordlessConfig=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.passwordlessConfig.isCreatePasswordlessUser$.pipe(Object(g.a)(e=>!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideIfCreatePasswordlessUser",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),ht=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.passwordlessConfig=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){const e=this.passwordlessConfig.isPasswordless$,t=this.passwordlessConfig.isCreatePasswordlessUser$;return Object(l.a)(e,t).pipe(Object(g.a)(([e,t])=>e||t),Object(g.a)(e=>!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideIfPasswordlessOrCreatePasswordlessUser",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),dt=(()=>{class e{constructor(e,t,s){this.view=e,this.config=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!this.config.get("isSingleStep")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideIfSingleStep",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),jt=(()=>{class e{constructor(e,t,s){this.view=e,this.passwordlessConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){const e=this.passwordlessConfig.isPasswordless$,t=this.passwordlessConfig.isCreatePasswordlessUser$;return Object(l.a)(e,t).pipe(Object(g.a)(([e,t])=>e||t))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordlessOrCreatePasswordlessUser",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),ft=(()=>{class e{constructor(e,t,s,i){this.view=e,this.config=t,this.passwordlessConfig=s,this.viewManager=i,this.viewManager.manageView(this,!0)}isVisible(){return this.passwordlessConfig.isGeneralPasswordlessRegistration$.pipe(Object(g.a)(e=>!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(c.u),Object(i.Zb)(c.Pb),Object(i.Zb)(c.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideIfGeneralPasswordlessRegistration",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,c.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([c.Ec])]}),e})(),Ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})();function pt(e,t){1&e&&(Object(i.fc)(0,"div",1),Object(i.ac)(1,"div",2),Object(i.ec)())}let gt=(()=>{class e{constructor(e){this.spinnerService=e,this.isVisible$=this.spinnerService.isSpinnerVisible$}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)($))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["spinner"]],decls:2,vars:3,consts:[["class","spinner-shading",4,"ngIf"],[1,"spinner-shading"],[1,"spinner"]],template:function(e,t){1&e&&(Object(i.Mc)(0,pt,2,0,"div",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.isVisible$))},directives:[n.k],pipes:[n.b],encapsulation:2}),e})(),mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({providers:[$],imports:[[n.c]]}),e})(),vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),Mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({}),e})(),wt=(()=>{class e{constructor(e,t,s){this.el=e,this.assetsConfig=t,this.renderer=s}ngAfterViewInit(){const e=this.renderer.createText(this.assetsConfig.get("appName"));this.renderer.appendChild(this.el.nativeElement,e)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q),Object(i.Zb)(c.e),Object(i.Zb)(i.Q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","appName",""]]}),e})(),yt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),Ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),St=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),It=(()=>{class e{constructor(e,t,s,i,n){this.socialAuth=e,this.config=t,this.authsConfig=s,this.renderer=i,this.el=n,this.className="social-button"}onClick(){this.config.get("isPreview")||this.socialAuth.socialLogin(this.socialType).subscribe()}ngOnInit(){this.authsConfig.isSocialAuthAvailable(this.socialType)||this.renderer.detachView(this.el.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(G),Object(i.Zb)(c.u),Object(i.Zb)(c.k),Object(i.Zb)(c.Lb),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,hostVars:2,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClick()}),2&e&&Object(i.Qb)(t.className)}}),e})();const Nt=["*"];let Et=(()=>{class e extends It{constructor(){super(...arguments),this.socialType=c.oc.FACEBOOK}}return e.\u0275fac=function(t){return Dt(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["facebook-signin"]],features:[i.Lb],ngContentSelectors:Nt,decls:2,vars:0,consts:[["type","button",1,"btn","social","facebook"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.fc)(0,"button",0),Object(i.uc)(1),Object(i.ec)())},encapsulation:2}),e})();const Dt=Object(i.hc)(Et),kt=["*"];let At=(()=>{class e extends It{constructor(){super(...arguments),this.socialType=c.oc.GOOGLE}}return e.\u0275fac=function(t){return Tt(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["google-signin"]],features:[i.Lb],ngContentSelectors:kt,decls:2,vars:0,consts:[["type","button",1,"btn","social","google"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.fc)(0,"button",0),Object(i.uc)(1),Object(i.ec)())},encapsulation:2}),e})();const Tt=Object(i.hc)(At),Lt=["*"];let xt=(()=>{class e extends It{constructor(){super(...arguments),this.socialType=c.oc.LINKEDIN}}return e.\u0275fac=function(t){return zt(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["linkedin-signin"]],features:[i.Lb],ngContentSelectors:Lt,decls:2,vars:0,consts:[["type","button",1,"btn","social","linkedin"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.fc)(0,"button",0),Object(i.uc)(1),Object(i.ec)())},encapsulation:2}),e})();const zt=Object(i.hc)(xt),Zt=["*"];let Rt=(()=>{class e extends It{constructor(){super(...arguments),this.socialType=c.oc.TWITTER}}return e.\u0275fac=function(t){return Ut(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["twitter-signin"]],features:[i.Lb],ngContentSelectors:Zt,decls:2,vars:0,consts:[["type","button",1,"btn","social","twitter"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.fc)(0,"button",0),Object(i.uc)(1),Object(i.ec)())},encapsulation:2}),e})();const Ut=Object(i.hc)(Rt);let Vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})();const Pt=[{type:c.oc.FACEBOOK,className:"facebook",title:"Facebook"},{type:c.oc.GOOGLE,className:"google",title:"Google"},{type:c.oc.LINKEDIN,className:"linkedin",title:"LinkedIn"},{type:c.oc.TWITTER,className:"twitter",title:"Twitter"},{type:c.oc.APPLE,className:"apple",title:"Apple"}];var Qt=function(e){return e.Rounded="rounded",e.WithTitle="withTitle",e}({});function Ft(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"button",2),Object(i.nc)("click",function(){Object(i.Hc)(e);const s=t.$implicit;return Object(i.pc)(2).handleButtonClick(s.type)}),Object(i.ec)()}if(2&e){const e=t.$implicit;Object(i.wc)("ngClass",e.className)}}function _t(e,t){if(1&e&&(Object(i.dc)(0),Object(i.Mc)(1,Ft,1,1,"button",1),Object(i.cc)()),2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("ngForOf",e.socialButtons)}}function Yt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"button",5),Object(i.nc)("click",function(){Object(i.Hc)(e);const s=t.$implicit;return Object(i.pc)(2).handleButtonClick(s.type)}),Object(i.ac)(1,"span",6),Object(i.fc)(2,"span",7),Object(i.fc)(3,"t"),Object(i.Nc)(4,"Sign in with"),Object(i.ec)(),Object(i.Nc)(5),Object(i.ec)(),Object(i.ec)()}if(2&e){const e=t.$implicit;Object(i.wc)("ngClass",e.className),Object(i.Ob)(1),Object(i.wc)("ngClass",e.className),Object(i.Ob)(4),Object(i.Pc)(" ",e.title,"")}}function $t(e,t){if(1&e&&(Object(i.dc)(0),Object(i.fc)(1,"div",3),Object(i.Mc)(2,Yt,6,3,"button",4),Object(i.ec)(),Object(i.cc)()),2&e){const e=Object(i.pc)();Object(i.Ob)(2),Object(i.wc)("ngForOf",e.socialButtons)}}let qt=(()=>{class e{constructor(e,t,s){this.config=e,this.authsConfig=t,this.socialAuth=s,this.type=Qt.Rounded,this.SocialSignInButtonType=Qt,this.socialButtons=[]}ngOnInit(){this.socialButtons=Pt.filter(e=>this.authsConfig.isSocialAuthAvailable(e.type))}handleButtonClick(e){this.config.get("isPreview")||this.socialAuth.socialLogin(e).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.u),Object(i.Zb)(c.k),Object(i.Zb)(G))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["social-sign-in"]],inputs:{type:"type"},decls:2,vars:2,consts:[[4,"ngIf"],["type","button","class","round-social-button social-button-icon",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"round-social-button","social-button-icon",3,"ngClass","click"],[1,"wrapper"],["type","button","class","with-title-social-button",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"with-title-social-button",3,"ngClass","click"],[1,"social-button-icon",3,"ngClass"],[1,"social-button-title"]],template:function(e,t){1&e&&(Object(i.Mc)(0,_t,2,1,"ng-container",0),Object(i.Mc)(1,$t,3,1,"ng-container",0)),2&e&&(Object(i.wc)("ngIf",t.type===t.SocialSignInButtonType.Rounded),Object(i.Ob)(1),Object(i.wc)("ngIf",t.type===t.SocialSignInButtonType.WithTitle))},directives:[n.k,n.j,n.i],styles:['button[_ngcontent-%COMP%]{height:48px;border:1px solid rgba(15,15,21,.06);cursor:pointer;outline:none}button[_ngcontent-%COMP%]::-moz-focus-inner{border:0}button[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:hover{border-color:rgba(15,15,21,.2)}.wrapper[_ngcontent-%COMP%]{min-width:212px;display:flex;flex-direction:column;align-items:center}.round-social-button[_ngcontent-%COMP%]{width:48px;border-radius:50%;box-sizing:border-box;background-size:inherit;background-repeat:no-repeat;background-position:50%;background-color:inherit;margin:0 4px}.with-title-social-button[_ngcontent-%COMP%]{min-width:212px;border-radius:24px;box-sizing:border-box;color:#292929;background-color:inherit;margin-bottom:14px;font-size:14px;text-align:left;display:flex;align-items:center}.with-title-social-button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.with-title-social-button[_ngcontent-%COMP%]   .social-button-icon[_ngcontent-%COMP%]{background-size:inherit;background-repeat:no-repeat;background-position:50%;width:48px;height:48px;display:block}.social-button-icon.apple[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjE5NDcgMTIuNDY5M0MxMi45NTI3IDEzLjAyODMgMTIuNjY2MyAxMy41NDI5IDEyLjMzNDQgMTQuMDE2QzExLjg4MjEgMTQuNjYwOSAxMS41MTE4IDE1LjEwNzMgMTEuMjI2MyAxNS4zNTUyQzEwLjc4MzkgMTUuNzYyMSAxMC4zMDk4IDE1Ljk3MDUgOS44MDIxNyAxNS45ODIzQzkuNDM3NzQgMTUuOTgyMyA4Ljk5ODI1IDE1Ljg3ODYgOC40ODY2NiAxNS42NjgzQzcuOTczMzkgMTUuNDU4OSA3LjUwMTcgMTUuMzU1MiA3LjA3MDQgMTUuMzU1MkM2LjYxODA3IDE1LjM1NTIgNi4xMzI5NSAxNS40NTg5IDUuNjE0MDUgMTUuNjY4M0M1LjA5NDM2IDE1Ljg3ODYgNC42NzU3MSAxNS45ODgzIDQuMzU1NjIgMTUuOTk5MUMzLjg2ODgyIDE2LjAxOTkgMy4zODM2IDE1LjgwNTUgMi44OTkyNyAxNS4zNTUyQzIuNTkwMTQgMTUuMDg1NiAyLjIwMzQ5IDE0LjYyMzQgMS43NDAyOSAxMy45Njg2QzEuMjQzMzIgMTMuMjY5MyAwLjgzNDc0IDEyLjQ1ODUgMC41MTQ2NTEgMTEuNTM0MUMwLjE3MTg0NyAxMC41MzU2IDAgOS41Njg2OSAwIDguNjMyNjJDMCA3LjU2MDM2IDAuMjMxNjk3IDYuNjM1NTUgMC42OTU3ODEgNS44NjA1NkMxLjA2MDUxIDUuMjM4MDYgMS41NDU3MyA0Ljc0NzAxIDIuMTUzMDIgNC4zODY1M0MyLjc2MDMxIDQuMDI2MDUgMy40MTY0OSAzLjg0MjM1IDQuMTIzMTMgMy44MzA2QzQuNTA5NzkgMy44MzA2IDUuMDE2ODQgMy45NTAyIDUuNjQ2OTQgNC4xODUyNUM2LjI3NTI3IDQuNDIxMSA2LjY3ODcxIDQuNTQwNyA2Ljg1NTU5IDQuNTQwN0M2Ljk4Nzg0IDQuNTQwNyA3LjQzNjAyIDQuNDAwODUgOC4xOTU4IDQuMTIyMDRDOC45MTQzIDMuODYzNDggOS41MjA3IDMuNzU2NDMgMTAuMDE3NSAzLjc5ODZDMTEuMzYzNiAzLjkwNzI0IDEyLjM3NDkgNC40Mzc4OSAxMy4wNDc1IDUuMzkzOTFDMTEuODQzNiA2LjEyMzM3IDExLjI0ODEgNy4xNDUwNiAxMS4yNTk5IDguNDU1NzRDMTEuMjcwOCA5LjQ3NjY1IDExLjY0MTEgMTAuMzI2MiAxMi4zNjkgMTEuMDAwN0MxMi42OTg5IDExLjMxMzggMTMuMDY3MyAxMS41NTU4IDEzLjQ3NzEgMTEuNzI3NkMxMy4zODgyIDExLjk4NTQgMTMuMjk0NCAxMi4yMzIzIDEzLjE5NDcgMTIuNDY5M1pNMTAuMTA3MyAwLjMyMDU3OUMxMC4xMDczIDEuMTIwNzYgOS44MTUwMSAxLjg2Nzg5IDkuMjMyMzEgMi41NTk0MkM4LjUyOTEyIDMuMzgxNTIgNy42Nzg1OCAzLjg1NjU3IDYuNzU2MjQgMy43ODE2MUM2Ljc0NDQ5IDMuNjg1NjEgNi43Mzc2NyAzLjU4NDU4IDYuNzM3NjcgMy40Nzg0MUM2LjczNzY3IDIuNzEwMjMgNy4wNzIwOCAxLjg4ODE0IDcuNjY1OTQgMS4yMTU5NkM3Ljk2MjQzIDAuODc1NjI0IDguMzM5NSAwLjU5MjY0IDguNzk2NzcgMC4zNjY4OThDOS4yNTMwNSAwLjE0NDUyNSA5LjY4NDY0IDAuMDIxNTQ3NiAxMC4wOTA2IDAuMDAwNDg4MjgxQzEwLjEwMjQgMC4xMDc0NiAxMC4xMDczIDAuMjE0NDM5IDEwLjEwNzMgMC4zMjA1NjlWMC4zMjA1NzlaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K")}.social-button-icon.facebook[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDYgMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMCA0LjYzNjcySDEuMjkwNDJWMy4yMzAwN0MxLjIyOTQyIDIuNDc1OTkgMS4zNzQyNSAxLjcxODg0IDEuNzA0OTIgMS4wNjI1M0MxLjkzNDI3IDAuNzEwMzI1IDIuMjM3MDggMC40MjkzNyAyLjU4NTkgMC4yNDUzMTlDMi45MzQ3MSAwLjA2MTI2OTEgMy4zMTg0IC0wLjAyMDAxNjUgMy43MDE3OCAwLjAwODg5MDIxQzQuNDc0ODEgLTAuMDI5Nzk1IDUuMjQ4NjcgMC4wNTc5MTI0IDYgMC4yNjkzNDVMNS42Nzk3OCAyLjQxMzJDNS4zNDE3NyAyLjMwNzY5IDQuOTkzOTUgMi4yNDg4IDQuNjQzNjkgMi4yMzc3OEM0LjUzNzM0IDIuMjA5NDkgNC40MjY5NCAyLjIwNzMxIDQuMzE5NzkgMi4yMzE0MUM0LjIxMjY1IDIuMjU1NSA0LjExMTE1IDIuMzA1MzIgNC4wMjIxMSAyLjM3NzU1QzMuOTMzMDcgMi40NDk3OCAzLjg1ODU0IDIuNTQyNzkgMy44MDMzIDIuNjUwNDJDMy43NDgwNyAyLjc1ODA1IDMuNzEzNDcgMi44Nzc4NyAzLjcwMTc4IDMuMDAxOTJWNC42MzY3Mkg1Ljc0NTY2TDUuNjA0MzUgNi43M0gzLjcwMTc4VjE0SDEuMjkwNDJWNi43Mjg5M0gwVjQuNjM2NzJaIiBmaWxsPSIjM0Q1Qzk1Ii8+Cjwvc3ZnPgo=")}.social-button-icon.twitter[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxNSAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNSAxLjQyNDIzQzE0LjQzNjggMS42Njg0NCAxMy44NDIyIDEuODI5MDYgMTMuMjM0MiAxLjkwMTE0QzEzLjg2ODYgMS41MjYyMSAxNC4zNDc4IDAuOTI5Nzk1IDE0LjU4MjggMC4yMjI1NzNDMTMuOTc3NSAwLjU3NjAzOSAxMy4zMTgzIDAuODI0IDEyLjYzMjYgMC45NTYyMDVDMTIuMzM4OSAwLjY1MjM1OCAxMS45ODg0IDAuNDExMjk1IDExLjYwMTkgMC4yNDcxNjFDMTEuMjE1MyAwLjA4MzAyODEgMTAuODAwNCAtMC4wMDA4Njk0ODIgMTAuMzgxNiAwLjAwMDQwMjQ4N0M5LjU3OTM2IC0wLjAxMjgwMzEgOC44MDQ4NSAwLjI5ODYzNiA4LjIyODE0IDAuODY2Mjg4QzcuNjUxNDMgMS40MzM5NCA3LjMxOTc2IDIuMjExMzcgNy4zMDU5OCAzLjAyNzc2QzcuMzA2NjIgMy4yNjAzNiA3LjMzMjYxIDMuNDkyMTkgNy4zODM1NiAzLjcxODk1QzYuMTcwNjcgMy42NjQ0MyA0Ljk4MTk2IDMuMzU1NjUgMy44OTE3NiAyLjgxMTk2QzIuODAxNTYgMi4yNjgyNyAxLjgzMzMxIDEuNTAxMzUgMS4wNDc4MiAwLjU1OTI2NEMwLjc3NjE3OCAxLjAxOTQ4IDAuNjMyMDc3IDEuNTQ1OTUgMC42MzA2ODMgMi4wODI4MkMwLjYzMzQxNyAyLjU4NTc2IDAuNzYwMDIyIDMuMDc5OTggMC45OTkwMjYgMy41MjAyQzEuMjM4MDMgMy45NjA0MyAxLjU4MTgzIDQuMzMyNjEgMS45OTg3NiA0LjYwMjY2QzEuNTEwNjcgNC41ODc1NiAxLjAzMjUxIDQuNDU4MTUgMC42MDE1NDggNC4yMjQ0OVY0LjI2MTAyQzAuNjExNjQ4IDQuOTcxMDEgMC44NjQwMTYgNS42NTUzMyAxLjMxNTM3IDYuMTk2ODFDMS43NjY3MyA2LjczODI5IDIuMzg5MDUgNy4xMDMyMyAzLjA3NTcyIDcuMjI5MTRDMi44MDk3OSA3LjMwMDc1IDIuNTM1NzEgNy4zMzY2IDIuMjYwNjMgNy4zMzU3OEMyLjA2ODYgNy4zMzYxMiAxLjg3Njk5IDcuMzE4MjcgMS42ODgyMiA3LjI4MjQ1QzEuODk0MTggNy44OTIyMyAyLjI4MTA1IDguNDIxODggMi43OTU1IDguNzk4MjZDMy4zMDk5NCA5LjE3NDY0IDMuOTI2NTMgOS4zNzkxOSA0LjU2MDExIDkuMzgzNjRDMy40NTgzNCAxMC4yMjc0IDIuMTE2MyAxMC42ODI2IDAuNzM3Mzk2IDEwLjY4MDFDMC40OTEwMTMgMTAuNjggMC4yNDQ4MiAxMC42NjU4IDAgMTAuNjM3NkMxLjQxNjg2IDExLjUyODUgMy4wNDk4OSAxMS45OTk0IDQuNzE1MzggMTEuOTk3M0M1Ljg0ODIgMTIuMDI2MSA2Ljk3NTMxIDExLjgyNTMgOC4wMzEwNiAxMS40MDYzQzkuMDg2OCAxMC45ODczIDEwLjA1MDEgMTAuMzU4NyAxMC44NjQ3IDkuNTU3QzExLjY3OTMgOC43NTUzMiAxMi4zMjg5IDcuNzk2NjQgMTIuNzc1NyA2LjczNjg1QzEzLjIyMjUgNS42NzcwNyAxMy40NTc1IDQuNTM3MzggMTMuNDY3IDMuMzg0MjFWMi45ODkyNkMxNC4wNjQ3IDIuNTYyODggMTQuNTgzNiAyLjAzMjM5IDE1IDEuNDIyMjYiIGZpbGw9IiMyQkFGRTkiLz4KPC9zdmc+Cg==")}.social-button-icon.linkedin[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ljg3MjE0IDUuMjk5NjFIMi4yMDE1NVYxNEg0Ljg3MjE0VjUuMjk5NjFaTTUuMTI0MDggMi41NjgwOUM1LjEyNDA4IDEuNzA4MTcgNC40MTg2NCAxIDMuNTYyMDQgMUMyLjcwNTQ0IDEgMiAxLjcwODE3IDIgMi41NjgwOUMyIDMuNDI4MDIgMi43MDU0NCA0LjEzNjE5IDMuNTYyMDQgNC4xMzYxOUM0LjQxODY0IDQuMTM2MTkgNS4xMjQwOCAzLjQyODAyIDUuMTI0MDggMi41NjgwOVpNOS4xNTQ5MyA1LjI5OTU1SDYuNTg1MTJWMTMuODk4OEg5LjMwNjA5VjkuNTk5MTZDOS4zMDYwOSA4LjQ4NjMyIDkuNTA3NjUgNy4zNzM0OCAxMC45MTg1IDcuMzczNDhDMTIuMzI5NCA3LjM3MzQ4IDEyLjMyOTQgOC42ODg2NSAxMi4zMjk0IDkuNzAwMzNWMTMuOTQ5NEgxNVY5LjE5NDQ5QzE1IDYuODY3NjQgMTQuNDk2MSA1LjA0NjYzIDExLjc3NTEgNS4wNDY2M0MxMC40NjUgNS4wNDY2MyA5LjU1ODA0IDUuNzU0OCA5LjIwNTMyIDYuNDYyOTdIOS4xNTQ5M1Y1LjI5OTU1WiIgZmlsbD0iIzAwNjVBMSIvPgo8L3N2Zz4K")}.social-button-icon.google[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuMDAxNjIgMC44NDcyNzhDMy40MTYxMiAxLjM4OTc4IDIuMDY1MTIgMi41NzYyOCAxLjMxMjYyIDQuMDc3NzhDMS4wNTAxMiA0LjU5NTc4IDAuODYxMTI0IDUuMTQ1MjggMC43NDU2MjQgNS43MTU3OEMwLjQ1ODYyNCA3LjEyOTc4IDAuNjU4MTI0IDguNjM4MjggMS4zMDkxMiA5LjkyNjI4QzEuNzMyNjIgMTAuNzY2MyAyLjM0MTYyIDExLjUxNTMgMy4wNzY2MiAxMi4wOTk4QzMuNzczMTIgMTIuNjUyOCA0LjU4MTYyIDEzLjA2NTggNS40NDI2MiAxMy4yOTMzQzYuNTI3NjIgMTMuNTgzOCA3LjY4MjYyIDEzLjU3NjggOC43NzQ2MiAxMy4zMjgzQzkuNzYxNjMgMTMuMTAwOCAxMC42OTYxIDEyLjYyODMgMTEuNDQxNiAxMS45NDIzQzEyLjIyOTEgMTEuMjE3OCAxMi43OTI2IDEwLjI2NTggMTMuMDkwMSA5LjI0MDI4QzEzLjQxNTYgOC4xMjM3OCAxMy40NTc2IDYuOTMwMjggMTMuMjU0NiA1Ljc4MjI4QzExLjIxNDEgNS43ODIyOCA5LjE3MDEzIDUuNzgyMjggNy4xMjk2MiA1Ljc4MjI4QzcuMTI5NjIgNi42MjkyOCA3LjEyOTYyIDcuNDc2MjggNy4xMjk2MiA4LjMyMzI4QzguMzEyNjIgOC4zMjMyOCA5LjQ5NTYyIDguMzIzMjggMTAuNjc4NiA4LjMyMzI4QzEwLjU0MjEgOS4xMzUyOCAxMC4wNTkxIDkuODc3MjggOS4zNzY2MyAxMC4zMzU4QzguOTQ2MTMgMTAuNjI2MyA4LjQ1MjYyIDEwLjgxMTggNy45NDE2MiAxMC45MDI4QzcuNDMwNjIgMTAuOTkwMyA2Ljg5ODYyIDExLjAwMDggNi4zODc2MiAxMC44OTkzQzUuODY2MTIgMTAuNzk0MyA1LjM3MjYyIDEwLjU3NzMgNC45Mzg2MiAxMC4yNzI4QzQuMjQ1NjIgOS43ODYyOCAzLjcxNzEyIDkuMDc1NzggMy40NDc2MiA4LjI3NDI4QzMuMTcxMTIgNy40NTg3OCAzLjE2NzYyIDYuNTUyMjggMy40NDc2MiA1Ljc0MDI4QzMuNjQzNjIgNS4xNjYyOCAzLjk2NTYyIDQuNjM3NzggNC4zOTI2MiA0LjIwMzc4QzQuOTE3NjIgMy42NjQ3OCA1LjYwMDEyIDMuMjc5NzggNi4zMzg2MiAzLjEyMjI4QzYuOTY4NjMgMi45ODkyOCA3LjYzMzYyIDMuMDEzNzggOC4yNDk2MiAzLjE5OTI4QzguNzc0NjIgMy4zNTY3OCA5LjI1NzYyIDMuNjQ3MjggOS42NTMxMiA0LjAyNTI4QzEwLjA1MjEgMy42MjYyOCAxMC40NTExIDMuMjI3MjggMTAuODUwMSAyLjgyODI4QzExLjA2MDEgMi42MTQ3OCAxMS4yODA2IDIuNDA4MjggMTEuNDgzNiAyLjE4Nzc4QzEwLjg3ODEgMS42Mjc3OCAxMC4xNjQxIDEuMTc2MjggOS4zODcxMyAwLjg4OTI3OEM3Ljk4NzEzIDAuMzcxMjc4IDYuNDEyMTIgMC4zNjA3NzggNS4wMDE2MiAwLjg0NzI3OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik01LjAwMTUgMC44NDcwNzNDNi40MDg1IDAuMzYwNTczIDcuOTg3IDAuMzcxMDczIDkuMzg3IDAuODg1NTczQzEwLjE2NCAxLjE3MjU3IDEwLjg3NDUgMS42MjA1NyAxMS40ODM1IDIuMTg0MDdDMTEuMjgwNSAyLjQwNDU3IDExLjA2IDIuNjExMDcgMTAuODUgMi44MjQ1N0MxMC40NTEgMy4yMjM1NyAxMC4wNTIgMy42MjI1NyA5LjY1MyA0LjAyMTU3QzkuMjU3NSAzLjY0MzU3IDguNzc0NSAzLjM1NjU3IDguMjQ5NSAzLjE5NTU3QzcuNjMzNSAzLjAxMDA3IDYuOTY4NSAyLjk4MjA3IDYuMzM4NSAzLjExODU3QzUuNjAzNSAzLjI3NjA3IDQuOTIxIDMuNjYxMDcgNC4zOTI1IDQuMjAwMDdDMy45NjU1IDQuNjMwNTcgMy42NDM1IDUuMTYyNTcgMy40NDc1IDUuNzM2NTdDMi43MzcgNS4xODM1NyAyLjAyNjUgNC42MzQwNyAxLjMxMjUgNC4wODEwN0MyLjA2NSAyLjU3NjA3IDMuNDE2IDEuMzg5NTcgNS4wMDE1IDAuODQ3MDczWiIgZmlsbD0iI0VBNDMzNSIvPgo8cGF0aCBkPSJNMC43NDkxMzkgNS43MTIxQzAuODY0NjM5IDUuMTQ1MSAxLjA1MzY0IDQuNTkyMSAxLjMxNjE0IDQuMDc0MUMyLjAyNjY0IDQuNjI3MSAyLjczNzE0IDUuMTc2NiAzLjQ1MTE0IDUuNzI5NkMzLjE3MTE0IDYuNTQ1MSAzLjE3MTE0IDcuNDUxNiAzLjQ1MTE0IDguMjYzNkMyLjc0MDY0IDguODE2NiAyLjAzMDE0IDkuMzY5NiAxLjMxOTY0IDkuOTE5MUMwLjY2MTYzOSA4LjYzNDYgMC40NjIxMzkgNy4xMjYxIDAuNzQ5MTM5IDUuNzEyMVoiIGZpbGw9IiNGQkJDMDUiLz4KPHBhdGggZD0iTTcuMTI5NzkgNS43Nzg1NkM5LjE3MDI5IDUuNzc4NTYgMTEuMjE0MyA1Ljc3ODU2IDEzLjI1NDggNS43Nzg1NkMxMy40NTc4IDYuOTIzMDYgMTMuNDEyMyA4LjExNjU2IDEzLjA5MDMgOS4yMzY1NkMxMi43OTI4IDEwLjI2MjEgMTIuMjI5MyAxMS4yMTQxIDExLjQ0MTggMTEuOTM4NkMxMC43NTIzIDExLjQwMzEgMTAuMDYyOCAxMC44Njc2IDkuMzczMjkgMTAuMzMyMUMxMC4wNTU4IDkuODczNTYgMTAuNTM4OCA5LjEzMTU2IDEwLjY3NTMgOC4zMTk1NkM5LjQ5MjI5IDguMzE5NTYgOC4zMDkyOSA4LjMxOTU2IDcuMTI2MjkgOC4zMTk1NkM3LjEyOTc5IDcuNDcyNTYgNy4xMjk3OSA2LjYyNTU2IDcuMTI5NzkgNS43Nzg1NloiIGZpbGw9IiM0Mjg1RjQiLz4KPHBhdGggZD0iTTEuMzEyNSA5LjkyMjU5QzIuMDIzIDkuMzczMDkgMi43MzM1IDguODIwMDkgMy40NDQgOC4yNjcwOUMzLjcxNyA5LjA2ODU5IDQuMjQyIDkuNzc5MDkgNC45MzUgMTAuMjY1NkM1LjM2OSAxMC41NzAxIDUuODY2IDEwLjc4NzEgNi4zODQgMTAuODkyMUM2Ljg5NSAxMC45OTcxIDcuNDIzNSAxMC45ODMxIDcuOTM4IDEwLjg5NTZDOC40NDkgMTAuODA0NiA4Ljk0MjUgMTAuNjE5MSA5LjM3MyAxMC4zMjg2QzEwLjA2MjUgMTAuODY0MSAxMC43NTIgMTEuMzk5NiAxMS40NDE1IDExLjkzNTFDMTAuNjk2IDEyLjYyNDYgOS43NjE1IDEzLjA5MzYgOC43NzQ1IDEzLjMyMTFDNy42ODI1IDEzLjU2OTYgNi41Mjc1IDEzLjU3NjYgNS40NDI1IDEzLjI4NjFDNC41ODE1IDEzLjA1ODYgMy43NzMgMTIuNjQ5MSAzLjA3NjUgMTIuMDkyNkMyLjM0NSAxMS41MTE2IDEuNzM2IDEwLjc2MjYgMS4zMTI1IDkuOTIyNTlaIiBmaWxsPSIjMzRBODUzIi8+Cjwvc3ZnPgo=")}']}),e})(),Bt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({providers:[],imports:[[n.c]]}),e})(),Gt=(()=>{class e{constructor(e,t,s){this.config=e,this.renderer=t,this.el=s;const i=this.getSocialTitle(this.config.get("socialType")),n=`social-title-${(this.config.get("socialType")||"").toLowerCase()}`,c=this.renderer.createText(i);this.renderer.appendChild(this.el.nativeElement,c),this.renderer.addClass(this.el.nativeElement,n)}getSocialTitle(e){switch(e){case c.oc.FACEBOOK:return"Facebook";case c.oc.GOOGLE:return"Google";case c.oc.TWITTER:return"Twitter";case c.oc.LINKEDIN:return"LinkedIn";case c.oc.APPLE:return"Apple"}}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.u),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["social-title"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Xt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})();var Wt=function(e){return e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.IEArrowLeft="Left",e.ArrowRight="ArrowRight",e.IEArrowRight="Right",e}({});let Kt=(()=>{class e{constructor(e){this.element=e,this.valueChange=new i.s,this.pasteFromClipboard=new i.s,this.valueClear=new i.s,this.autofill=new i.s,this.focusNext=new i.s,this.focusPrevious=new i.s,this.updateInputValueNatively=new h.a,this.subscription=this.updateInputValueNatively.asObservable().pipe(Object(v.a)(1)).subscribe(e=>this.element.nativeElement.value=e)}ngOnDestroy(){this.subscription.unsubscribe()}onKeyUp(t){"Backspace"===t.key?(this.updateInputValueNatively.next(""),this.valueChange.emit(""),this.valueClear.emit()):e.SPECIAL_CHARACTERS.includes(t.key)&&(this.updateInputValueNatively.next(""),this.valueChange.emit(""))}onKeyDown(t){e.SPECIAL_CHARACTERS.includes(t.key)?t.preventDefault():e.NAVIGATION_KEYS.includes(t.key)&&this.handleNavigationKeys(t)}onInput(e){var t;const s=null===(t=e.target)||void 0===t?void 0:t.value,i=(null==s?void 0:s.split(""))||[];if(e.data&&!i.includes(e.data)&&i.push(e.data),i.length){if(i.length<6){const e=i.reverse().find(e=>/[0-9]/.test(e))||"";return this.valueChange.emit(e),void this.updateInputValueNatively.next(e)}e.stopPropagation(),e.preventDefault(),i.every(e=>/[0-9]/.test(e))&&6===i.length?this.autofill.emit(i):(this.updateInputValueNatively.next(""),this.autofill.emit(new Array(6).fill("")))}}onPaste(e){const t=e.clipboardData.getData("text/plain").replace(" ","").split("");t.every(e=>+e>=0&&+e<10)&&6===t.length&&this.pasteFromClipboard.emit(t),e.stopPropagation(),e.preventDefault()}handleNavigationKeys(e){switch(e.key){case Wt.ArrowLeft:case Wt.IEArrowLeft:this.focusPrevious.emit();break;case Wt.ArrowRight:case Wt.IEArrowRight:this.focusNext.emit();break;case Wt.ArrowUp:case Wt.ArrowDown:e.stopPropagation(),e.preventDefault()}}}return e.SPECIAL_CHARACTERS=["e","E","-","+",".",","],e.NAVIGATION_KEYS=Object.values(Wt),e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","digitalCodeInputItem",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("keyup",function(e){return t.onKeyUp(e)})("keydown",function(e){return t.onKeyDown(e)})("input",function(e){return t.onInput(e)})("paste",function(e){return t.onPaste(e)})},outputs:{valueChange:"valueChange",pasteFromClipboard:"pasteFromClipboard",valueClear:"valueClear",autofill:"autofill",focusNext:"focusNext",focusPrevious:"focusPrevious"}}),e})();const Ht=["codeSymbolInput"];function Jt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"input",2,3),Object(i.nc)("valueChange",function(s){Object(i.Hc)(e);const n=t.index;return Object(i.pc)().updateValue(s,n)})("pasteFromClipboard",function(t){return Object(i.Hc)(e),Object(i.pc)().updateValues(t)})("autofill",function(t){return Object(i.Hc)(e),Object(i.pc)().updateValues(t)})("valueClear",function(){Object(i.Hc)(e);const s=t.index;return Object(i.pc)().onValueClear(s)})("focusPrevious",function(){Object(i.Hc)(e);const s=t.index;return Object(i.pc)().onFocus(s-1)})("focusNext",function(){Object(i.Hc)(e);const s=t.index;return Object(i.pc)().onFocus(s+1)}),Object(i.ec)()}if(2&e){const e=t.index,s=Object(i.pc)();Object(i.wc)("disabled",s.isDisabled)("value",s.codeValues[e])}}let es=(()=>{class e{constructor(t,s,i,n){this.formService=t,this.stateService=s,this.currentScreenService=i,this.errorService=n,this.codeLength=new Array(6),this.codeValues=[...e.EMPTY_VALUES],this.isDisabled=!1}ngOnInit(){this.formService.addControl("digitalCode",new V.c([...e.EMPTY_VALUES])),this.formService.get("digitalCode").valueChanges.pipe(Object(k.a)()).subscribe(e=>this.codeValues=[...e])}ngOnDestroy(){this.formService.removeControl("digitalCode")}updateValue(e,t){var s;this.codeValues[t]=e,this.formService.patchValue({digitalCode:this.codeValues}),this.errorService.set([]),this.submit(),e&&(null===(s=this.codeSymbolInputRefs.get(t+1))||void 0===s||s.nativeElement.focus())}updateValues(e){this.codeValues=[...e],this.formService.patchValue({digitalCode:this.codeValues}),this.errorService.set([]),this.submit()}submit(){var e;if(6!==this.codeValues.join("").length)return;let t;this.isDisabled=!0,null===(e=this.subscription)||void 0===e||e.unsubscribe(),"digital_code"===this.currentScreenService.screen?t=this.stateService.confirmPasswordlessDigitalCode():["email_is_not_confirmed","email_confirmation_required"].includes(this.currentScreenService.screen)&&(t=this.stateService.confirmDoiDigitalCode()),this.subscription=t.pipe(Object(y.a)(()=>this.isDisabled=!1)).subscribe()}onValueClear(e){this.onFocus(e-1)}onFocus(e){var t;null===(t=this.codeSymbolInputRefs.get(e))||void 0===t||t.nativeElement.focus()}}return e.EMPTY_VALUES=new Array(6).fill(""),e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.lb),Object(i.Zb)(B),Object(i.Zb)(c.C),Object(i.Zb)(c.db))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["digital-code-input"]],viewQuery:function(e,t){if(1&e&&Object(i.Rc)(Ht,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.codeSymbolInputRefs=e)}},decls:2,vars:1,consts:[[1,"digital-code-input"],["tabindex","0","type","number","pattern","[0-9]*","digitalCodeInputItem","",3,"disabled","value","valueChange","pasteFromClipboard","autofill","valueClear","focusPrevious","focusNext",4,"ngFor","ngForOf"],["tabindex","0","type","number","pattern","[0-9]*","digitalCodeInputItem","",3,"disabled","value","valueChange","pasteFromClipboard","autofill","valueClear","focusPrevious","focusNext"],["codeSymbolInput",""]],template:function(e,t){1&e&&(Object(i.fc)(0,"div",0),Object(i.Mc)(1,Jt,2,2,"input",1),Object(i.ec)()),2&e&&(Object(i.Ob)(1),Object(i.wc)("ngForOf",t.codeLength))},directives:[n.j,Kt],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      \n      input[type='number'][_ngcontent-%COMP%] {\n        -moz-appearance: textfield;\n      }"]}),e})(),ts=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),ss=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c,W.forRoot()],n.c,ce,ve,Me,Ot,Ne,Le,ze,Qe,Bt,Xt,Vt,Xe,Ke,ot,mt,c.sc,vt,c.c,c.x,c.J,c.cb,c.fb,c.gb,c.jb,c.yb,c.Rb,c.Yb,c.gc,c.pc,c.L,c.E,c.m,c.tb,c.ub,W,Mt,yt,ts,Ct,St]}),e})()},"5Iyn":function(e,t,s){"use strict";var i=s("UjXC");s.d(t,"a",function(){return i.a}),s("B4IK");var n=s("AAQT");s.d(t,"e",function(){return n.a}),s("UtU1");var c=s("pelm");s.d(t,"b",function(){return c.a}),s("H9my"),s("np13");var r=s("MHx/");s.d(t,"d",function(){return r.a}),s("GCMh");var o=s("P7j8");s.d(t,"c",function(){return o.a})},AAQT:function(e,t,s){"use strict";s.d(t,"a",function(){return l});var i=s("ofXK"),n=s("Y4Or"),c=s("Xl4/"),r=s("tyNb"),o=s("UtU1"),a=s("fXoL");const b=[{path:"",component:o.a}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Xb({type:e}),e.\u0275inj=a.Wb({imports:[[r.d.forChild(b)],r.d]}),e})(),l=(()=>{class e{constructor(e){this.postMessage=e,this.postMessage.send("loaded")}static forRoot(){return{ngModule:e,providers:[{provide:n.Vb,useClass:n.Ub},{provide:n.dc,useValue:"Profile"},n.f,n.i,n.j,n.z,n.y,n.hc,n.K,n.P,n.Cc,n.db,n.hb,n.Mb,n.Gc,n.Dc,n.U,n.q,c.Q,c.P,c.z,n.Gb,n.v,n.Zb,n.fc,n.tc,n.lb,n.A,n.Nb,n.R,n.Lb,n.F]}}}return e.\u0275fac=function(t){return new(t||e)(a.jc(n.Tb))},e.\u0275mod=a.Xb({type:e}),e.\u0275inj=a.Wb({imports:[i.c,n.Eb,n.yc,u,c.y]}),e})()},B4IK:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("fXoL"),n=s("Y4Or"),c=s("QCNz");let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Tb({type:e,selectors:[["app-widget"]],decls:7,vars:0,template:function(e,t){1&e&&(i.ac(0,"pn-messages"),i.Nc(1,"\n"),i.fc(2,"app-resolve-outlet"),i.Nc(3,"\n  "),i.ac(4,"preloader"),i.Nc(5,"\n"),i.ec(),i.Nc(6,"\n\n\n"))},directives:[n.Db,c.a,n.Wb],encapsulation:2}),e})()},GCMh:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("fXoL"),n=s("QCNz"),c=s("Y4Or");let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Tb({type:e,selectors:[["gm-sso-widget"]],decls:5,vars:0,template:function(e,t){1&e&&(i.fc(0,"app-resolve-outlet"),i.Nc(1,"\n  "),i.ac(2,"preloader"),i.Nc(3,"\n"),i.ec(),i.Nc(4,"\n"))},directives:[n.a,c.Wb],encapsulation:2}),e})()},H9my:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("fXoL"),n=s("QCNz"),c=s("Y4Or");let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Tb({type:e,selectors:[["form-widget"]],decls:5,vars:0,template:function(e,t){1&e&&(i.fc(0,"app-resolve-outlet"),i.Nc(1,"\n  "),i.ac(2,"preloader"),i.Nc(3,"\n"),i.ec(),i.Nc(4,"\n"))},directives:[n.a,c.Wb],encapsulation:2}),e})()},L4dV:function(e,t,s){"use strict";s.d(t,"a",function(){return i});const i=new(s("fXoL").z)("Layout")},"MHx/":function(e,t,s){"use strict";s.d(t,"a",function(){return h});var i=s("ofXK"),n=s("Y4Or"),c=s("Xl4/"),r=s("aPBM"),o=s("tyNb"),a=s("np13"),b=s("fXoL");const u=[{path:"",component:a.a}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[[o.d.forChild(u)],o.d]}),e})(),h=(()=>{class e{constructor(e){this.postMessage=e,this.postMessage.send("loaded")}static forRoot(){return{ngModule:e,providers:[{provide:n.Vb,useClass:n.Ub},{provide:n.dc,useValue:""},n.f,n.i,n.j,n.z,n.y,n.hc,n.K,n.P,n.Cc,n.db,n.hb,n.Mb,n.Gc,n.Dc,n.U,n.q,n.Gb,n.v,n.Zb,n.fc,n.tc,n.lb,n.A,n.Nb,n.R,n.Lb,n.F,r.c,r.g,r.b]}}}return e.\u0275fac=function(t){return new(t||e)(b.jc(n.Tb))},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[i.c,n.Eb,l,c.y]}),e})()},N1Nw:function(e,t,s){"use strict";s("L4dV"),s("QCNz");var i=s("cLh5");s.d(t,"a",function(){return i.a});var n=s("bhlk");s.d(t,"b",function(){return n.a})},NBQ7:function(e,t,s){"use strict";s.d(t,"a",function(){return z}),s.d(t,"b",function(){return Z}),s.d(t,"c",function(){return L}),s.d(t,"d",function(){return U}),s.d(t,"e",function(){return A}),s.d(t,"f",function(){return P}),s.d(t,"g",function(){return T});var i=s("fXoL"),n=s("ofXK"),c=s("Y4Or"),r=s("XNiG"),o=s("LRne"),a=s("EY2u"),b=s("itXk"),u=s("VRyK"),l=s("yCtX"),h=s("DH7j"),d=s("7o/Q"),j=s("Lhse"),f=s("zx2A");class O{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new p(e,this.resultSelector))}}class p extends d.a{constructor(e,t,s=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Object(h.a)(e)?t.push(new m(e)):t.push("function"==typeof e[j.a]?new g(e[j.a]()):new v(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let s=0;s<t;s++){let t=e[s];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,s=this.destination;for(let c=0;c<t;c++){let t=e[c];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const n=[];for(let c=0;c<t;c++){let t=e[c],r=t.next();if(t.hasCompleted()&&(i=!0),r.done)return void s.complete();n.push(r.value)}this.resultSelector?this._tryresultSelector(n):s.next(n),i&&s.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}class g{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class m{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[j.a](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class v extends f.b{constructor(e,t,s){super(e),this.parent=t,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[j.a](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return Object(f.c)(this.observable,new f.a(this))}}var M=s("vkgz"),w=s("nYR2"),y=s("pLZG"),C=s("5+tZ"),S=s("IzEk"),I=s("JIr8"),N=s("NfdI"),E=s("Kj3r"),D=s("nhMy"),k=s("jhN1");let A=(()=>{class e extends c.Vb{constructor(e,t,s){super(),this.profileAuth=e,this.config=t,this.env=s,this.ready$=new r.a}get ready(){return this.ready$.asObservable()}getInfo(){let e;return e=this.env.mock||this.config.get("isPreview")?Object(o.a)(Object(D.f)()):this.profileAuth.get(),e.pipe(Object(M.a)(()=>this.ready$.next(!0)))}forceReady(){this.ready$.next(!0)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.Zb),Object(i.jc)(c.u),Object(i.jc)(c.T))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{constructor(e,t,s,i,n,c,o,a,b,u,l,h){this.postMessage=e,this.container=t,this.config=s,this.assetsConfig=i,this.error=n,this.customFields=c,this.lang=o,this.profileAuth=a,this.profile=b,this.events=u,this.tokenService=l,this.mobileSdkAdapter=h,this.ready$=new r.a,this.user$=new r.a,this.isSubmitting=!1,this.subscribeToCustomFieldsSubmit(),this.subscribeToExternalEvents(),this.subscribeToCustomFieldsValues(),this.subscribeToCustomFieldsFirstImpression(),this.subscribeToLanguageUpdate(),this.postMessage.send("stateReady"),this.mobileSdkAdapter.postMessage("stateReady")}skip(){this.postMessage.send("formSkip"),this.mobileSdkAdapter.postMessage("formSkip")}submit(){if(this.isSubmitting)return a.a;if(!this.customFields.strictValidate())return this.postMessage.send("profileUpdatedError"),a.a;const e={uid:this.uid,form_name:this.assetsConfig.assetsFormName,custom_field_values:this.customFields.getSerializedValues(),hidden_fields:this.customFields.completedFieldsNames};return this.customFields.currentStep&&(e.step_id=this.customFields.currentStep.id),this.error.reset(),this.isSubmitting=!0,this.profileAuth.update(e).pipe(Object(w.a)(()=>this.isSubmitting=!1),Object(M.a)(({custom_fields_errors:e})=>{if(null==e?void 0:e.length)throw{errors:e.map(e=>({message:e}))}}),Object(y.a)(({update_failed:e})=>!e),Object(C.a)(e=>Object(b.a)([Object(o.a)(e),this.customFields.isMultiStepEnabled$.pipe(Object(S.a)(1)),this.customFields.isCurrentStepLast$.pipe(Object(S.a)(1))])),Object(M.a)(([{token:e=this.tokenService.accessToken},t,s])=>{const i=t&&!s,n=c.wc.decode(e);this.tokenService.accessToken=e,this.postMessage.send("profileUpdated",{token:e,user:n},null,null,i),this.customFields.fieldsImpression$.getValue()&&this.events.cfSubmission(),i||(this.postMessage.send("formSend"),this.events.flushQueue()),this.customFields.setNextStep().subscribe()}),Object(I.a)(e=>(this.postMessage.send("profileUpdatedError",e),this.handleErrors(e),Object(o.a)(null))))}subscribeToCustomFieldsSubmit(){this.customFields.submit$.pipe(Object(C.a)(()=>this.submit())).subscribe()}subscribeToExternalEvents(){(this.mobileSdkAdapter.isActive?this.mobileSdkAdapter.getMessages():this.postMessage.messages).pipe(Object(N.a)(e=>Object(u.a)(e.pipe(Object(y.a)(({event:e})=>"setToken"===e),Object(M.a)(({params:e})=>this.tokenService.accessToken=e),Object(C.a)(()=>this.getProfile()),Object(C.a)(()=>this.customFields.isMultiStepEnabled$.pipe(Object(S.a)(1))),Object(y.a)(e=>e)),e.pipe(Object(y.a)(({event:e})=>"userData"===e),Object(M.a)(({params:e})=>{this.readProfileData(e),this.profile.forceReady()})),e.pipe(Object(y.a)(({event:e})=>"submit"===e),Object(C.a)(()=>this.submit())),e.pipe(Object(y.a)(({event:e})=>"skip"===e),Object(M.a)(()=>this.skip())),e.pipe(Object(y.a)(({event:e})=>"close"===e),Object(M.a)(()=>this.container.close()))))).subscribe()}getProfile(){return this.error.reset(),this.profile.getInfo().pipe(Object(M.a)(e=>{this.readProfileData(e),this.ready$.next(!0)}),Object(I.a)(e=>{try{this.ready$.error(e.errors)}catch(t){}return this.handleErrors(e),Object(o.a)(null)}))}readProfileData(e){e&&(this.uid=e.uid,this.user$.next(e),this.customFields.setInitValues(e.custom_field_values))}handleErrors(e){403===e.status&&(this.postMessage.send("tokenRejected"),this.mobileSdkAdapter.postMessage("tokenRejected")),this.error.set(e.errors)}hasUnfinishedFilledCustomFields(e){return!(null==e?void 0:e.has_all_custom_field_values_filled)||!this.config.get("hideIfComplete")}subscribeToCustomFieldsValues(){this.customFields.lastUpdatedValues.pipe(Object(E.a)(200)).subscribe(e=>this.postMessage.send("change",e))}subscribeToCustomFieldsFirstImpression(){(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(l.a)(e,void 0).lift(new O(t))})(this.customFields.fieldsFirstImpression,this.user$.pipe(Object(y.a)(e=>this.hasUnfinishedFilledCustomFields(e)))).subscribe(()=>this.events.cfImpression())}subscribeToLanguageUpdate(){this.lang.$langUpdated.subscribe(()=>this.error.reset())}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.Tb),Object(i.jc)(c.z),Object(i.jc)(c.u),Object(i.jc)(c.e),Object(i.jc)(c.db),Object(i.jc)(c.K),Object(i.jc)(c.xb),Object(i.jc)(c.Zb),Object(i.jc)(A),Object(i.jc)(c.hb),Object(i.jc)(c.xc),Object(i.jc)(c.Fb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e{constructor(e,t,s){this.container=e,this.title=t,this.langSettings=s}configure(e){this.title.setTitle("Form"),this.container.preventScroll(),this.langSettings.configureLang(e).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.z),Object(i.jc)(k.b),Object(i.jc)(c.Gb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{constructor(e){this.config=e}onClickEvent(){this.config.get("isPreview")||this.onClick()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClickEvent()})}}),e})(),z=(()=>{class e extends x{constructor(e,t){super(t),this.state=e,this.config=t}onClick(){this.state.skip()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(T),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionSkip",""]],features:[i.Lb]}),e})(),Z=(()=>{class e extends x{constructor(e,t){super(t),this.state=e,this.config=t}onClick(){this.state.submit().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(T),Object(i.Zb)(c.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionSubmit",""]],features:[i.Lb]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),U=(()=>{class e{constructor(e,t,s){this.assetsConfig=e,this.el=t,this.renderer=s;const i=this.assetsConfig.customFieldsFormTitle;i?this.renderer.appendChild(this.el.nativeElement,this.renderer.createText(i)):this.renderer.setStyle(this.el.nativeElement,"display","none")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(c.e),Object(i.Zb)(i.q),Object(i.Zb)(i.Q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","formTitle",""]]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c]]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[n.c],c.yc,R,V,c.sc,c.c,c.m,c.x,c.E,c.J,c.L,c.fb,c.gb,c.jb,c.yb,c.Rb,c.Yb,c.gc,c.pc,c.L,c.E,c.m,c.tb,c.ub]}),e})()},P7j8:function(e,t,s){"use strict";s.d(t,"a",function(){return j});var i=s("Y4Or"),n=s("0E7l"),c=s("jCJ1"),r=s("ofXK"),o=s("tyNb"),a=s("GCMh"),b=s("fXoL");const u=[{path:"",component:a.a}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[[o.d.forChild(u)],o.d]}),e})();var h=s("Xl4/"),d=s("jiG8");let j=(()=>{class e{constructor(e,t){this.aotDetector=e,this.postMessage=t,this.postMessage.send("loaded")}static forRoot(t=!1){return{ngModule:e,providers:[{provide:i.vb,useValue:t},{provide:i.dc,useValue:"gm-sso"},{provide:i.Vb,useClass:i.Ub},i.a,n.k,i.f,i.i,i.j,i.z,i.nb,i.y,i.hc,i.K,i.P,i.Cc,i.db,i.hb,i.Mb,i.Gc,i.Dc,i.U,i.q,n.lb,n.gb,n.o,c.c,n.M,h.z,i.Gb,n.kb,i.v,i.Zb,i.fc,i.tc,i.lb,i.A,i.Nb,i.R,i.Lb,i.F,i.d,d.f,i.mb,n.ob]}}}return e.\u0275fac=function(t){return new(t||e)(b.jc(i.a),b.jc(i.Tb))},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[[n.F.forRoot()],r.c,i.yc,i.Eb,i.Xb,l,n.F]}),e})()},QCNz:function(e,t,s){"use strict";s.d(t,"a",function(){return l});var i=s("fXoL"),n=s("bhlk"),c=s("Y4Or"),r=s("L4dV"),o=s("ofXK");function a(e,t){1&e&&i.uc(0,0,["*ngIf","!resolved"])}function b(e,t){if(1&e&&(i.fc(0,"div",2),i.Nc(1),i.ec()),2&e){const e=i.pc();i.Ob(1),i.Oc(e.error)}}const u=["*"];let l=(()=>{class e{constructor(e,t,s,n,c,r){this.resolve=e,this.viewContainer=t,this.renderer=s,this.postMessage=n,this.factoryResolver=c,this.layoutComponent=r,this.layoutLoaded=new i.s,this.resolved=!1}ngOnInit(){this.resolve.getMainExternalCss().then(e=>e&&this.applyExternalCss(e)).then(()=>this.applyLayout()).catch(e=>{this.resolved=!0,console.error(e),this.error=e})}applyExternalCss(e){e.forEach(c.ib.load)}applyLayout(){this.resolved=!0,this.viewContainer.clear();const e=this.factoryResolver.resolveComponentFactory(this.layoutComponent);this.viewContainer.createComponent(e),this.layoutLoaded.emit()}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(n.a),i.Zb(i.db),i.Zb(i.Q),i.Zb(c.Tb),i.Zb(i.l),i.Zb(r.a))},e.\u0275cmp=i.Tb({type:e,selectors:[["app-resolve-outlet"]],outputs:{layoutLoaded:"layoutLoaded"},ngContentSelectors:u,decls:5,vars:2,consts:[[4,"ngIf"],["class","system-error",4,"ngIf"],[1,"system-error"]],template:function(e,t){1&e&&(i.vc(),i.Nc(0,"\n    "),i.Mc(1,a,1,0,"ng-content",0),i.Nc(2,"\n    "),i.Mc(3,b,2,1,"div",1),i.Nc(4,"\n  ")),2&e&&(i.Ob(1),i.wc("ngIf",!t.resolved),i.Ob(2),i.wc("ngIf",t.error))},directives:[o.k],encapsulation:2}),e})()},UjXC:function(e,t,s){"use strict";s.d(t,"a",function(){return h});var i=s("Y4Or"),n=s("0E7l"),c=s("jCJ1"),r=s("ofXK"),o=s("tyNb"),a=s("B4IK"),b=s("fXoL");const u=[{path:"",component:a.a}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[[o.d.forChild(u)],o.d]}),e})(),h=(()=>{class e{constructor(e,t){this.aotDetector=e,this.postMessage=t,this.postMessage.send("loaded")}static forRoot(t=!1){return{ngModule:e,providers:[{provide:i.vb,useValue:t},{provide:i.dc,useValue:"App"},{provide:i.Vb,useClass:i.Ub},i.f,i.i,i.j,i.z,i.nb,i.y,i.P,i.hc,i.db,i.hb,i.U,i.K,i.Cc,i.Mb,i.Gc,i.tc,i.Dc,i.q,n.lb,n.gb,n.o,c.c,n.M,i.Gb,n.k,n.kb,i.a,i.v,i.lb,i.fc,i.A,i.Nb,i.R,i.Lb,i.F,i.d,n.ob,i.Zb,i.mb]}}}return e.\u0275fac=function(t){return new(t||e)(b.jc(i.a),b.jc(i.Tb))},e.\u0275mod=b.Xb({type:e}),e.\u0275inj=b.Wb({imports:[[n.F.forRoot()],r.c,i.yc,i.Eb,i.Xb,l,n.F]}),e})()},UtU1:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var i=s("ofXK"),n=s("fXoL"),c=s("Y4Or"),r=s("QCNz"),o=s("Xl4/");let a=(()=>{class e{constructor(e,t,s,i){this.elementRef=e,this.elementsService=t,this.renderer=s,this.documentRef=i,this.iframeName="autofill-iframe"}ngAfterViewInit(){this.elementsService.appendEmptyIframe(this.iframeName,this.elementRef.nativeElement)}layoutLoaded(){this.renderer.removeClass(this.documentRef.body,"preload")}}return e.\u0275fac=function(t){return new(t||e)(n.Zb(n.q),n.Zb(c.U),n.Zb(n.Q),n.Zb(i.d))},e.\u0275cmp=n.Tb({type:e,selectors:[["profile-widget"]],decls:12,vars:1,consts:[["action","about:blank"],[3,"layoutLoaded"],["id","profile-autofill-submit","type","submit",2,"display","none"]],template:function(e,t){1&e&&(n.fc(0,"div",0),n.Nc(1,"\n  "),n.ac(2,"pn-messages"),n.Nc(3,"\n  "),n.fc(4,"app-resolve-outlet",1),n.nc("layoutLoaded",function(){return t.layoutLoaded()}),n.Nc(5,"\n    "),n.ac(6,"app-profile-preloader"),n.Nc(7,"\n  "),n.ec(),n.Nc(8,"\n\n  "),n.ac(9,"button",2),n.Nc(10,"\n"),n.ec(),n.Nc(11,"\n")),2&e&&n.Pb("target",t.iframeName)},directives:[c.Db,r.a,o.x],encapsulation:2}),e})()},"Xl4/":function(e,t,s){"use strict";s.d(t,"a",function(){return Z}),s.d(t,"b",function(){return R}),s.d(t,"c",function(){return X}),s.d(t,"d",function(){return ee}),s.d(t,"e",function(){return pt}),s.d(t,"f",function(){return it}),s.d(t,"g",function(){return Et}),s.d(t,"h",function(){return ue}),s.d(t,"i",function(){return je}),s.d(t,"j",function(){return D}),s.d(t,"k",function(){return k}),s.d(t,"l",function(){return L}),s.d(t,"m",function(){return x}),s.d(t,"n",function(){return A}),s.d(t,"o",function(){return T}),s.d(t,"p",function(){return P}),s.d(t,"q",function(){return we}),s.d(t,"r",function(){return Ie}),s.d(t,"s",function(){return Q}),s.d(t,"t",function(){return F}),s.d(t,"u",function(){return xe}),s.d(t,"v",function(){return Ue}),s.d(t,"w",function(){return V}),s.d(t,"x",function(){return kt}),s.d(t,"y",function(){return At}),s.d(t,"z",function(){return E}),s.d(t,"A",function(){return Y}),s.d(t,"B",function(){return _}),s.d(t,"C",function(){return ie}),s.d(t,"D",function(){return re}),s.d(t,"E",function(){return Oe}),s.d(t,"F",function(){return ge}),s.d(t,"G",function(){return Ee}),s.d(t,"H",function(){return ke}),s.d(t,"I",function(){return Pe}),s.d(t,"J",function(){return Fe}),s.d(t,"K",function(){return $}),s.d(t,"L",function(){return Dt}),s.d(t,"M",function(){return st}),s.d(t,"N",function(){return He}),s.d(t,"O",function(){return et}),s.d(t,"P",function(){return N}),s.d(t,"Q",function(){return I}),s.d(t,"R",function(){return qe}),s.d(t,"S",function(){return We});var i=s("fXoL"),n=s("2Vo4"),c=s("EY2u"),r=s("VRyK"),o=s("LRne"),a=s("jtHE"),b=s("itXk"),u=s("lJxs"),l=s("/uUt"),h=s("vkgz"),d=s("pLZG"),j=s("nYR2"),f=s("JIr8"),O=s("5+tZ"),p=s("NfdI"),g=s("eIep"),m=s("1G5W"),v=s("Y4Or"),M=s("nhMy"),w=s("jhN1"),y=s("ofXK"),C=s("mrSG"),S=s("3Pt+");let I=(()=>{class e{constructor(e,t,s,i,c,r,o,a,b,d,j,f,O,p){this.profile=e,this.postMessage=t,this.config=s,this.authsConfig=i,this.assetsConfig=c,this.container=r,this.customFields=o,this.error=a,this.validator=b,this.confirmationEmail=d,this.form=j,this.eventsService=f,this.tokenService=O,this.env=p,this.isReady$=new n.a(!1),this.updateComplete$=new n.a(!1),this.showChangePassword$=new n.a(!1),this.disableUpdateProfile$=new n.a(!1),this.updateLinkedSocials$=new n.a(!1),this.showResendConfirmationEmail$=new n.a(!1),this.isEmailChanged$=new n.a(!1),this.uid=null,this.subscribeToPostMessages(),this.subscribeToCustomFieldsSubmit(),this.form.valueChanges.pipe(Object(u.a)(e=>!!this.currentEmail&&this.currentEmail!==e.email),Object(l.a)(),Object(h.a)(e=>this.isEmailChanged$.next(e))).subscribe(),this.postMessage.send("stateReady")}get ready$(){return this.isReady$.pipe(Object(d.a)(e=>e))}updateProfile(){if(this.disableUpdateProfile$.getValue())return c.a;if(this.profile.isReadOnly())return this.eventsService.extendedUserLoginRequired(),c.a;if(this.form.submit(),this.updateComplete$.next(!1),!this.validator.runValidateFunction(()=>this.form.valid,this.customFields.strictValidate))return c.a;const e=this.convertFormToProfile(this.form.value),t=this.customFields.getSerializedValues(!0);return t.length&&(e.custom_field_values=t),e.hidden_fields=this.customFields.completedFieldsNames,this.showChangePassword$.getValue()||this.isEmailChanged$.getValue()||(e.new_password=void 0,e.current_password=void 0),this.error.reset(),this.disableUpdateProfile$.next(!0),this.profile.update(e).pipe(Object(j.a)(()=>this.disableUpdateProfile$.next(!1)),Object(h.a)(e=>this.handleUpdatedProfile(e)),Object(f.a)(e=>{throw this.postMessage.send("profileUpdatedError",e),this.handleForbidden(e.status),this.error.set(e.errors),e}))}resendConfirmationEmail(){return this.confirmationEmail.resendAndShowMessage(({need_resend_confirmation_email:e})=>this.showResendConfirmationEmail$.next(e))}handleUpdatedProfile(e){var t;if(e.update_failed){if(null===(t=e.custom_fields_errors)||void 0===t?void 0:t.length)throw{errors:e.custom_fields_errors.map(e=>({message:e}))}}else{e.token&&(this.tokenService.accessToken=e.token);const t=this.tokenService.accessToken;this.postMessage.send("profileUpdated",{token:t,user:v.wc.decode(t),cookie_domain:this.assetsConfig.get("siteCookieDomain")}),this.readProfileData(e),e&&this.customFields.setValues(e.custom_field_values),this.confirmationEmail.showMessageAfterSendEmail(e)}}handleForbidden(e){403===e&&this.postMessage.send("tokenRejected")}readProfileData(e){return e&&(this.uid=e.uid,this.form.patchValue(e),this.currentEmail=e.email,this.form.patchValue(e),this.showResendConfirmationEmail$.next(e.need_resend_confirmation_email),e.linked_social_accounts&&(this.authsConfig.setLinkedAuths(e.linked_social_accounts),this.updateLinkedSocials$.next(!0))),e}subscribeToCustomFieldsSubmit(){this.customFields.submit$.pipe(Object(O.a)(()=>this.updateProfile())).subscribe()}subscribeToPostMessages(){this.postMessage.messages.pipe(Object(p.a)(e=>Object(r.a)(e.pipe(Object(d.a)(e=>"close"===e.event),Object(h.a)(()=>this.container.close())),e.pipe(Object(d.a)(({event:e,params:t})=>"setToken"===e&&(null==t?void 0:t.token)),Object(h.a)(e=>this.tokenService.accessToken=e.params.token),Object(O.a)(()=>this.getProfile())),e.pipe(Object(d.a)(e=>"updatedProfile"===e.event),Object(h.a)(()=>{this.showChangePassword$.next(!1),this.disableUpdateProfile$.next(!1),this.updateComplete$.next(!0)}))))).subscribe()}getProfile(){let e;return e=this.env.mock||this.config.get("isPreview")?Object(o.a)(Object(M.f)()):this.profile.get(),e.pipe(Object(h.a)(e=>{this.readProfileData(e),this.isReady$.next(!0)}),Object(d.a)(e=>!!e),Object(h.a)(e=>this.customFields.setInitValues(e.custom_field_values)),Object(f.a)(({status:e,errors:t},s)=>(this.handleForbidden(e),this.isReady$.error(t),this.error.set(t),s)))}convertFormToProfile(e){return e.confirm_password&&e.new_password&&void 0===e.password&&(e.password=""),Object.keys(e).reduce((t,s)=>{if("confirm_password"===s)return t;const i=e[s];return"password"===s?t.current_password=i:t[s]=i,t},{})}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(v.Zb),Object(i.jc)(v.Tb),Object(i.jc)(v.u),Object(i.jc)(v.k),Object(i.jc)(v.e),Object(i.jc)(v.z),Object(i.jc)(v.K),Object(i.jc)(v.db),Object(i.jc)(v.Cc),Object(i.jc)(v.v),Object(i.jc)(v.lb),Object(i.jc)(v.hb),Object(i.jc)(v.xc),Object(i.jc)(v.T))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{constructor(e,t,s,i,n,c,r,o){this.error=e,this.container=t,this.profile=s,this.tokenService=i,this.authsConfig=n,this.state=c,this.postMessage=r,this.userAgentService=o,this.subscribeToPostMessages()}socialLink(e){if(this.error.reset(),this.userAgentService.isDesktopSafari||this.userAgentService.isIos){const t=this.tokenService.getOneTimeTokenSynchronous();this.openSocialLinking(e,t)}else this.tokenService.getOneTimeToken().subscribe(t=>this.openSocialLinking(e,t))}socialUnlink(e){this.error.reset(),this.profile.unlinkSocialAccount({social_type:e,uid:this.state.uid}).pipe(Object(f.a)(e=>{throw this.state.handleForbidden(e.status),e}),Object(d.a)(e=>!!e)).subscribe(e=>{this.authsConfig.setLinkedAuths(e),this.state.updateLinkedSocials$.next(!0)})}subscribeToPostMessages(){this.postMessage.messages.pipe(Object(p.a)(e=>Object(r.a)(e.pipe(Object(d.a)(e=>"socialLinkCallback"===e.event),Object(u.a)(({params:e})=>e),Object(h.a)(({error:e,status:t,error_message:s,warn_message:i})=>{e&&(this.state.handleForbidden(+t),s&&console.error(`SOCIAL LINKING FAILED: ${s}`),i&&this.error.set([{message:i}]))}),Object(d.a)(({linking_successful:e})=>"true"===e),Object(O.a)(()=>this.getLinkedSocialAccounts()))))).subscribe()}openSocialLinking(e,t){this.container.openPopup(this.profile.getSocialLinkUrl({social_type:e,uid:this.state.uid,ot_token:t}),"pianoid-auth")}getLinkedSocialAccounts(){return this.profile.getLinkedSocialAccounts().pipe(Object(d.a)(e=>!!e),Object(h.a)(e=>{this.authsConfig.setLinkedAuths(e),this.state.updateLinkedSocials$.next(!0)}),Object(f.a)(({status:e},t)=>(this.state.handleForbidden(e),t)))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(v.db),Object(i.jc)(v.z),Object(i.jc)(v.Zb),Object(i.jc)(v.xc),Object(i.jc)(v.k),Object(i.jc)(I),Object(i.jc)(v.Tb),Object(i.jc)(v.Ac))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t,s,i){this.config=e,this.lang=t,this.title=s,this.langSettings=i}configure(e){this.title.setTitle("Profile"),this.lang.doNotSetCookie=!0,this.langSettings.configureLang(e).pipe(Object(g.a)(()=>this.lang.onLangChange)).subscribe(({lang:e})=>this.config.set("lang",e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(v.u),Object(i.jc)(v.xb),Object(i.jc)(w.b),Object(i.jc)(v.Gb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),D=(()=>{class e extends v.n{constructor(e,t,s,i,n,c,r,o){super(s,e,t,n,c,r,o),this.config=e,this.assetsConfig=t,this.form=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="password",this.validators=[{formValidator:!1,errorName:v.Bc.REQUIRED,validator:S.n.required}],this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.u),Object(i.Zb)(v.e),Object(i.Zb)(v.lb),Object(i.Zb)(I),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileCurrentPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),k=(()=>{class e extends v.n{constructor(e,t,s,i,n,c,r,o){super(e,t,s,n,c,r,o),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="email",this.validators=[{formValidator:!1,errorName:v.Bc.REQUIRED,validator:S.n.required}],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1,this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.lb),Object(i.Zb)(v.u),Object(i.Zb)(v.e),Object(i.Zb)(I),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileEmail",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),A=(()=>{class e extends v.o{constructor(e,t,s,i,n,c,r,o){super(e,t,s,n,c,r,o),this.form=e,this.config=t,this.assetsConfig=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="new_password",this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.assetsConfig.get("enableFeValidation")}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.lb),Object(i.Zb)(v.u),Object(i.Zb)(v.e),Object(i.Zb)(I),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileNewPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),T=(()=>{class e extends v.n{constructor(e,t,s,i,n,c,r,o){super(e,t,i,n,c,r,o),this.form=e,this.config=t,this.state=s,this.assetsConfig=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="confirm_password",this.validators=[{errorName:"password_not_confirmed",formValidator:!0,validator:v.N.newPasswordEqualToConfirmPasswordValidator(this.name,"new_password","password_not_confirmed")}],this.hasErrors=!1,this.autocorrect="off",this.autocapitalize="off",this.isRequired=this.enableFeValidation}get enableFeValidation(){return!0}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.lb),Object(i.Zb)(v.u),Object(i.Zb)(I),Object(i.Zb)(v.e),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileRepeatNewPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("has-errors",t.hasErrors)("required",t.isRequired))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),L=(()=>{class e extends v.n{constructor(e,t,s,i,n,c,r,o){super(s,e,t,n,c,r,o),this.config=e,this.assetsConfig=t,this.form=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="first_name",this.validators=[],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){if(this.assetsConfig.get("enableFeValidation")){const e=this.assetsConfig.get("isFirstAndLastNamesRequired");this.isRequired=e,e&&this.validators.push({formValidator:!1,errorName:v.Bc.REQUIRED,validator:S.n.required})}super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.u),Object(i.Zb)(v.e),Object(i.Zb)(v.lb),Object(i.Zb)(I),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileFirstName",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("required",t.isRequired)("has-errors",t.hasErrors))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),x=(()=>{class e extends v.n{constructor(e,t,s,i,n,c,r,o){super(s,e,t,n,c,r,o),this.config=e,this.assetsConfig=t,this.form=s,this.state=i,this.displayableValidatorErrorsService=n,this.errorService=c,this.elementRef=r,this.controlMobileZoomService=o,this.name="last_name",this.validators=[],this.autocorrect="off",this.autocapitalize="off",this.hasErrors=!1}onInputEvent(e){this.onChange(e.value)}onEnterEvent(){this.state.updateProfile().subscribe()}ngOnInit(){if(this.assetsConfig.get("enableFeValidation")){const e=this.assetsConfig.get("isFirstAndLastNamesRequired");this.isRequired=e,e&&this.validators.push({formValidator:!1,errorName:v.Bc.REQUIRED,validator:S.n.required})}super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.u),Object(i.Zb)(v.e),Object(i.Zb)(v.lb),Object(i.Zb)(I),Object(i.Zb)(v.S),Object(i.Zb)(v.db),Object(i.Zb)(i.q),Object(i.Zb)(v.B))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","fieldProfileLastName",""]],hostVars:6,hostBindings:function(e,t){1&e&&Object(i.nc)("change",function(e){return t.onInputEvent(e.target)})("input",function(e){return t.onInputEvent(e.target)})("keydown.enter",function(){return t.onEnterEvent()}),2&e&&(Object(i.Pb)("autocorrect",t.autocorrect)("autocapitalize",t.autocapitalize),Object(i.Rb)("required",t.isRequired)("has-errors",t.hasErrors))},features:[Object(i.Nb)([{provide:v.n,useExisting:Object(i.hb)(()=>e)}]),i.Lb]}),Object(C.a)([Object(v.Q)(),Object(C.b)("design:type",Function),Object(C.b)("design:paramtypes",[Object]),Object(C.b)("design:returntype",void 0)],e.prototype,"onInputEvent",null),e})(),z=(()=>{class e{constructor(){this.unsubscribe=new a.a(1)}ngOnDestroy(){this.unsubscribe.next(null),this.unsubscribe.complete()}onClickEvent(e){e.preventDefault();const t=document.getElementById("profile-autofill-submit");t&&"function"==typeof t.click&&t.click(),this.onClick()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Object(i.Ub)({type:e,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})("keydown.enter",function(e){return t.onClickEvent(e)})("keydown.space",function(e){return t.onClickEvent(e)})}}),e})(),Z=(()=>{class e extends z{constructor(e){super(),this.state=e,this.tabindex="0"}onClick(){this.state.resendConfirmationEmail().pipe(Object(m.a)(this.unsubscribe)).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionResendConfirmationEmail",""]],hostVars:1,hostBindings:function(e,t){2&e&&Object(i.Pb)("tabindex",t.tabindex)},features:[i.Lb]}),e})(),R=(()=>{class e extends z{constructor(e,t,s){super(),this.state=e,this.el=t,this.renderer=s}ngOnInit(){this.state.disableUpdateProfile$.subscribe(e=>{this.renderer.setProperty(this.el.nativeElement,"disabled",e?"disabled":void 0)})}onClick(){this.state.updateProfile().pipe(Object(m.a)(this.unsubscribe)).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(i.q),Object(i.Zb)(i.Q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionUpdateProfile",""]],features:[i.Lb]}),e})(),U=(()=>{class e{constructor(e,t){this.document=e,this.renderer=t,this.keyListeners=[]}addSpaceAndEnterKeysListeners(e,t){this.keyListeners.push(this.renderer.listen(e,"keydown.space",t)),this.keyListeners.push(this.renderer.listen(e,"keydown.enter",t))}removeSpaceAndEnterKeysListeners(){this.keyListeners.forEach(e=>e())}setFocusToOffChangePassword(){setTimeout(()=>this.setFocus("[off-change-password]"))}setFocusToOnChangePassword(){setTimeout(()=>this.setFocus("[on-change-password]"))}getHostElement(e,t){let s;return e&&"rootNodes"in e?s=e.rootNodes[0]:e instanceof i.q?s=e.nativeElement:t&&(s=t.elementRef.nativeElement.nextElementSibling),s}setFocus(e){const t=this.document.querySelector(e);t&&t.focus()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(y.d),Object(i.jc)(i.Q))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(e,t,s,i,n,c){this.state=e,this.renderer=t,this.view=s,this.switchService=i,this.viewManager=n,this.template=c}ngAfterContentInit(){this.viewSubscription=this.viewManager.manageView(this,!0).subscribe(e=>{const t=this.switchService.getHostElement(e,this.template);t?(this.switchService.addSpaceAndEnterKeysListeners(t,this.onClick.bind(this)),this.renderer.setAttribute(t,"tabindex","0"),this.renderer.setAttribute(t,"on-change-password","")):this.switchService.removeSpaceAndEnterKeysListeners()})}ngOnDestroy(){this.viewSubscription&&this.viewSubscription.unsubscribe(),this.switchService.removeSpaceAndEnterKeysListeners()}onClick(){this.state.showChangePassword$.next(!0),this.switchService.setFocusToOffChangePassword()}isVisible(){return this.state.showChangePassword$.pipe(Object(u.a)(e=>!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(i.Q),Object(i.Zb)(i.db),Object(i.Zb)(U),Object(i.Zb)(v.t),Object(i.Zb)(i.X,8))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","onChangePassword",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.t,v.Ec,U])]}),e})(),P=(()=>{class e{constructor(e,t,s){this.state=e,this.el=t,this.renderer=s}ngOnInit(){this.state.updateComplete$.subscribe(e=>this.update(e)),this.update(!1)}update(e){e&&setTimeout(()=>this.update(!1),2e3),this.renderer.setStyle(this.el.nativeElement,"display",e?"block":"none")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(i.q),Object(i.Zb)(i.Q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","flashProfileUpdated",""]]}),e})(),Q=(()=>{class e{constructor(e,t,s,i){this.view=e,this.state=t,this.viewManager=s,this.passwordlessConfig=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return Object(b.a)([this.state.showChangePassword$,this.state.isEmailChanged$,this.passwordlessConfig.isPasswordless$]).pipe(Object(u.a)(([e,t,s])=>(!t||s)&&!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(I),Object(i.Zb)(v.Ec),Object(i.Zb)(v.Pb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideChangePassword",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),F=(()=>{class e{constructor(e,t,s){this.view=e,this.passwordlessConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.passwordlessConfig.isPasswordless$.pipe(Object(u.a)(e=>!e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(v.Pb),Object(i.Zb)(v.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","hideIfPasswordless",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),_=(()=>{class e{constructor(e,t,s,i,n){this.view=e,this.state=t,this.viewManager=s,this.config=i,this.passwordlessConfig=n}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return Object(b.a)([this.state.showChangePassword$,this.passwordlessConfig.isPasswordless$,this.state.isEmailChanged$]).pipe(Object(u.a)(([e,t,s])=>(e||s)&&!t))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(I),Object(i.Zb)(v.Ec),Object(i.Zb)(v.u),Object(i.Zb)(v.Pb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showChangePasswordPasswordless",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),Y=(()=>{class e{constructor(e,t,s,i){this.elementRef=e,this.view=t,this.state=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return Object(b.a)([this.state.showChangePassword$,this.state.isEmailChanged$,this.isContainsCurrentPasswordField()]).pipe(Object(u.a)(([e,t,s])=>e||s&&t))}isContainsCurrentPasswordField(){var e,t;return Object(o.a)(!!(null===(t=null===(e=this.elementRef.nativeElement)||void 0===e?void 0:e.querySelector)||void 0===t?void 0:t.call(e,"[fieldProfileCurrentPassword]")))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.q),Object(i.Zb)(i.db),Object(i.Zb)(I),Object(i.Zb)(v.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showChangePassword",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),$=(()=>{class e{constructor(e,t,s){this.view=e,this.passwordlessConfig=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.passwordlessConfig.isPasswordless$}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(v.Pb),Object(i.Zb)(v.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfPasswordless",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),q=(()=>{class e{constructor(e,t,s,i){this.state=e,this.socialAuth=t,this.config=s,this.authsConfig=i,this.visible=this.state.updateLinkedSocials$.pipe(Object(u.a)(()=>this.isAvailable()))}onClick(){this.config.get("isPreview")||this.socialAuth.socialLink(this.socialType)}isAvailable(){var e;const t=this.authsConfig.isSocialAuthAvailable(this.socialType),s=!(null===(e=this.authsConfig.get(this.socialType))||void 0===e?void 0:e.linked);return t&&s}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(N),Object(i.Zb)(v.u),Object(i.Zb)(v.k))},e.\u0275dir=Object(i.Ub)({type:e,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClick()})}}),e})();function B(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const G=["*"];let X=(()=>{class e extends q{constructor(){super(...arguments),this.socialType=v.oc.APPLE}}return e.\u0275fac=function(t){return W(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["apple-link"]],features:[i.Lb],ngContentSelectors:G,decls:2,vars:3,consts:[["class","btn social link apple",4,"ngIf"],[1,"btn","social","link","apple"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,B,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const W=Object(i.hc)(X);let K=(()=>{class e{constructor(e,t,s,i){this.state=e,this.socialAuth=t,this.config=s,this.authsConfig=i,this.visible=this.state.updateLinkedSocials$.pipe(Object(u.a)(()=>this.isAvailable()))}onClick(){this.config.get("isPreview")||this.socialAuth.socialUnlink(this.socialType)}isAvailable(){var e;const t=this.authsConfig.isSocialAuthAvailable(this.socialType),s=null===(e=this.authsConfig.get(this.socialType))||void 0===e?void 0:e.linked,i=this.authsConfig.getCountOfLinkedAuths()>1;return t&&s&&i}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(N),Object(i.Zb)(v.u),Object(i.Zb)(v.k))},e.\u0275dir=Object(i.Ub)({type:e,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(){return t.onClick()})}}),e})();function H(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const J=["*"];let ee=(()=>{class e extends K{constructor(){super(...arguments),this.socialType=v.oc.APPLE}}return e.\u0275fac=function(t){return te(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["apple-unlink"]],features:[i.Lb],ngContentSelectors:J,decls:2,vars:3,consts:[["class","btn social unlink apple",4,"ngIf"],[1,"btn","social","unlink","apple"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,H,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const te=Object(i.hc)(ee);let se=(()=>{class e{constructor(e,t,s){this.authsConfig=e,this.rendererService=t,this.el=s}ngOnInit(){this.authsConfig.isSocialAuthAvailable(this.socialType)||this.rendererService.detachView(this.el.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.k),Object(i.Zb)(v.Lb),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e}),e})(),ie=(()=>{class e extends se{constructor(){super(...arguments),this.socialType=v.oc.APPLE}}return e.\u0275fac=function(t){return ne(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfAppleAvailable",""]],features:[i.Lb]}),e})();const ne=Object(i.hc)(ie);let ce=(()=>{class e{constructor(e,t,s,i){this.state=e,this.authsConfig=t,this.renderer=s,this.el=i}ngOnInit(){this.state.updateLinkedSocials$.subscribe(()=>{const e=this.isAvailable();this.renderer.setStyle(this.el.nativeElement,"display",e?"inline-block":"none")})}isAvailable(){return this.authsConfig.isSocialAuthAvailable(this.socialType)&&this.isActive(this.socialType)}isActive(e){return this.authsConfig.get(e).linked}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(v.k),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e}),e})(),re=(()=>{class e extends ce{constructor(){super(...arguments),this.socialType=v.oc.APPLE}}return e.\u0275fac=function(t){return oe(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfAppleLinked",""]],features:[i.Lb]}),e})();const oe=Object(i.hc)(re);function ae(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const be=["*"];let ue=(()=>{class e extends q{constructor(){super(...arguments),this.socialType=v.oc.FACEBOOK}}return e.\u0275fac=function(t){return le(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["facebook-link"]],features:[i.Lb],ngContentSelectors:be,decls:2,vars:3,consts:[["class","btn social link facebook",4,"ngIf"],[1,"btn","social","link","facebook"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,ae,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const le=Object(i.hc)(ue);function he(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const de=["*"];let je=(()=>{class e extends K{constructor(){super(...arguments),this.socialType=v.oc.FACEBOOK}}return e.\u0275fac=function(t){return fe(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["facebook-unlink"]],features:[i.Lb],ngContentSelectors:de,decls:2,vars:3,consts:[["class","btn social unlink facebook",4,"ngIf"],[1,"btn","social","unlink","facebook"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,he,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const fe=Object(i.hc)(je);let Oe=(()=>{class e extends se{constructor(){super(...arguments),this.socialType=v.oc.FACEBOOK}}return e.\u0275fac=function(t){return pe(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfFacebookAvailable",""]],features:[i.Lb]}),e})();const pe=Object(i.hc)(Oe);let ge=(()=>{class e extends ce{constructor(){super(...arguments),this.socialType=v.oc.FACEBOOK}}return e.\u0275fac=function(t){return me(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfFacebookLinked",""]],features:[i.Lb]}),e})();const me=Object(i.hc)(ge);function ve(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const Me=["*"];let we=(()=>{class e extends q{constructor(){super(...arguments),this.socialType=v.oc.GOOGLE}}return e.\u0275fac=function(t){return ye(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["google-link"]],features:[i.Lb],ngContentSelectors:Me,decls:2,vars:3,consts:[["class","btn social link google",4,"ngIf"],[1,"btn","social","link","google"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,ve,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const ye=Object(i.hc)(we);function Ce(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const Se=["*"];let Ie=(()=>{class e extends K{constructor(){super(...arguments),this.socialType=v.oc.GOOGLE}}return e.\u0275fac=function(t){return Ne(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["google-unlink"]],features:[i.Lb],ngContentSelectors:Se,decls:2,vars:3,consts:[["class","btn social unlink google",4,"ngIf"],[1,"btn","social","unlink","google"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,Ce,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const Ne=Object(i.hc)(Ie);let Ee=(()=>{class e extends se{constructor(){super(...arguments),this.socialType=v.oc.GOOGLE}}return e.\u0275fac=function(t){return De(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfGoogleAvailable",""]],features:[i.Lb]}),e})();const De=Object(i.hc)(Ee);let ke=(()=>{class e extends ce{constructor(){super(...arguments),this.socialType=v.oc.GOOGLE}}return e.\u0275fac=function(t){return Ae(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfGoogleLinked",""]],features:[i.Lb]}),e})();const Ae=Object(i.hc)(ke);function Te(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const Le=["*"];let xe=(()=>{class e extends q{constructor(){super(...arguments),this.socialType=v.oc.LINKEDIN}}return e.\u0275fac=function(t){return ze(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["linkedin-link"]],features:[i.Lb],ngContentSelectors:Le,decls:2,vars:3,consts:[["class","btn social link linkedin",4,"ngIf"],[1,"btn","social","link","linkedin"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,Te,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const ze=Object(i.hc)(xe);function Ze(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const Re=["*"];let Ue=(()=>{class e extends K{constructor(){super(...arguments),this.socialType=v.oc.LINKEDIN}}return e.\u0275fac=function(t){return Ve(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["linkedin-unlink"]],features:[i.Lb],ngContentSelectors:Re,decls:2,vars:3,consts:[["class","btn social unlink linkedin",4,"ngIf"],[1,"btn","social","unlink","linkedin"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,Ze,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const Ve=Object(i.hc)(Ue);let Pe=(()=>{class e extends se{constructor(){super(...arguments),this.socialType=v.oc.LINKEDIN}}return e.\u0275fac=function(t){return Qe(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfLinkedinAvailable",""]],features:[i.Lb]}),e})();const Qe=Object(i.hc)(Pe);let Fe=(()=>{class e extends ce{constructor(){super(...arguments),this.socialType=v.oc.LINKEDIN}}return e.\u0275fac=function(t){return _e(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfLinkedinLinked",""]],features:[i.Lb]}),e})();const _e=Object(i.hc)(Fe);function Ye(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const $e=["*"];let qe=(()=>{class e extends q{constructor(){super(...arguments),this.socialType=v.oc.TWITTER}}return e.\u0275fac=function(t){return Be(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["twitter-link"]],features:[i.Lb],ngContentSelectors:$e,decls:2,vars:3,consts:[["class","btn social link twitter",4,"ngIf"],[1,"btn","social","link","twitter"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,Ye,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const Be=Object(i.hc)(qe);function Ge(e,t){1&e&&(Object(i.fc)(0,"button",1),Object(i.uc)(1),Object(i.ec)())}const Xe=["*"];let We=(()=>{class e extends K{constructor(){super(...arguments),this.socialType=v.oc.TWITTER}}return e.\u0275fac=function(t){return Ke(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["twitter-unlink"]],features:[i.Lb],ngContentSelectors:Xe,decls:2,vars:3,consts:[["class","btn social unlink twitter",4,"ngIf"],[1,"btn","social","unlink","twitter"]],template:function(e,t){1&e&&(Object(i.vc)(),Object(i.Mc)(0,Ge,2,0,"button",0),Object(i.qc)(1,"async")),2&e&&Object(i.wc)("ngIf",Object(i.rc)(1,1,t.visible))},directives:[y.k],pipes:[y.b],encapsulation:2,changeDetection:0}),e})();const Ke=Object(i.hc)(We);let He=(()=>{class e extends se{constructor(){super(...arguments),this.socialType=v.oc.TWITTER}}return e.\u0275fac=function(t){return Je(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfTwitterAvailable",""]],features:[i.Lb]}),e})();const Je=Object(i.hc)(He);let et=(()=>{class e extends ce{constructor(){super(...arguments),this.socialType=v.oc.TWITTER}}return e.\u0275fac=function(t){return tt(t||e)},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfTwitterLinked",""]],features:[i.Lb]}),e})();const tt=Object(i.hc)(et);let st=(()=>{class e{constructor(e,t,s,i){this.config=e,this.authsConfig=t,this.rendererService=s,this.el=i}ngOnInit(){this.authsConfig.get("isSocialLinkingAvailable")&&this.authsConfig.isAnySocialAuthAvailable||this.rendererService.detachView(this.el.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.u),Object(i.Zb)(v.k),Object(i.Zb)(v.Lb),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfSocialAuthAvailable",""]]}),e})(),it=(()=>{class e{constructor(e,t,s){this.customFields=e,this.rendererService=t,this.el=s}ngOnInit(){const e=this.customFields.registerField(this.fieldName,!0);e?this.rendererService.createText(this.el.nativeElement,e.title):this.rendererService.detachView(this.el.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.K),Object(i.Zb)(v.Lb),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","customFieldLabel",""]],inputs:{fieldName:"fieldName"}}),e})();function nt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"single-select-custom-field",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)().onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)();Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function ct(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"multi-select-custom-field",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)().onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)();Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function rt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"date-custom-field-old",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)().onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)();Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function ot(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"boolean-custom-field",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)().onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)();Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function at(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"number-custom-field",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)(2).onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)(2);Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function bt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"scale-custom-field",8),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)(2).onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)(2);Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,4,e.value$))("primaryColor","#428BCA")}}function ut(e,t){if(1&e&&(Object(i.dc)(0),Object(i.Mc)(1,at,2,5,"number-custom-field",6),Object(i.Mc)(2,bt,2,6,"scale-custom-field",7),Object(i.cc)()),2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("ngIf",!(null!=e.field.options&&e.field.options.scale)),Object(i.Ob)(1),Object(i.wc)("ngIf",null==e.field.options?null:e.field.options.scale)}}function lt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"phone-number-custom-field",5),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)().onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)();Object(i.wc)("field",e.field)("allowReadonly",!0)("value",Object(i.rc)(1,3,e.value$))}}function ht(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"text-custom-field",10),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)(2).onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)(2);Object(i.wc)("field",e.field)("value",Object(i.rc)(1,3,e.value$))("allowReadonly",!0)}}function dt(e,t){if(1&e){const e=Object(i.gc)();Object(i.fc)(0,"multi-line-text-custom-field",10),Object(i.nc)("valueChange",function(t){return Object(i.Hc)(e),Object(i.pc)(2).onChange(t)}),Object(i.qc)(1,"async"),Object(i.ec)()}if(2&e){const e=Object(i.pc)(2);Object(i.wc)("field",e.field)("value",Object(i.rc)(1,3,e.value$))("allowReadonly",!0)}}function jt(e,t){if(1&e&&(Object(i.dc)(0),Object(i.Mc)(1,ht,2,5,"text-custom-field",9),Object(i.Mc)(2,dt,2,5,"multi-line-text-custom-field",9),Object(i.cc)()),2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("ngIf",!e.field.isMultiLine),Object(i.Ob)(1),Object(i.wc)("ngIf",e.field.isMultiLine)}}function ft(e,t){if(1&e&&(Object(i.fc)(0,"div",13),Object(i.Nc)(1),Object(i.ec)()),2&e){const e=t.$implicit;Object(i.Ob)(1),Object(i.Oc)(e)}}function Ot(e,t){if(1&e&&(Object(i.fc)(0,"div",11),Object(i.Mc)(1,ft,2,1,"div",12),Object(i.ec)()),2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("ngForOf",e.errors)}}let pt=(()=>{class e{constructor(e,t,s,i){this.customFields=e,this.lang=t,this.oldRendererService=s,this.el=i,this.errors=[],this.subscriptions=[]}get wrapperClass(){const e=[`custom-field custom-field-${this.field.name}`];return e.push(`custom-field-type-${v.H[this.field.type].toLowerCase()}`),this.field.isRequired&&e.push("custom-field-required"),this.errors.length&&e.push("custom-field-has-errors"),e.join(" ")}onTouchStart(){}ngOnInit(){this.field=this.customFields.registerField(this.fieldName,!0),this.value$=this.customFields.fieldValues(this.fieldName),this.field?(this.subscribeToValidation(),this.subscribeToField()):(this.field=v.uc.default(),this.oldRendererService.detachView(this.el.nativeElement))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onChange(e){this.customFields.setFieldValue(this.field.name,e)}subscribeToValidation(){this.subscriptions.push(this.customFields.fieldValidationErrors(this.field.name).subscribe(e=>this.errors=e))}subscribeToField(){this.subscriptions.push(this.customFields.getField(this.field.name).subscribe(e=>{this.field=e}))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(v.K),Object(i.Zb)(v.xb),Object(i.Zb)(v.Lb),Object(i.Zb)(i.q))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["custom-field-input"]],hostVars:2,hostBindings:function(e,t){1&e&&Object(i.nc)("touchstart",function(){return t.onTouchStart()}),2&e&&Object(i.Qb)(t.wrapperClass)},inputs:{fieldName:"fieldName"},decls:9,vars:8,consts:[[3,"ngSwitch"],[3,"field","allowReadonly","value","valueChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","custom-field-errors",4,"ngIf"],[3,"field","allowReadonly","value","valueChange"],[3,"field","allowReadonly","value","valueChange",4,"ngIf"],[3,"field","allowReadonly","value","primaryColor","valueChange",4,"ngIf"],[3,"field","allowReadonly","value","primaryColor","valueChange"],[3,"field","value","allowReadonly","valueChange",4,"ngIf"],[3,"field","value","allowReadonly","valueChange"],[1,"custom-field-errors"],["class","validation-error",4,"ngFor","ngForOf"],[1,"validation-error"]],template:function(e,t){1&e&&(Object(i.dc)(0,0),Object(i.Mc)(1,nt,2,5,"single-select-custom-field",1),Object(i.Mc)(2,ct,2,5,"multi-select-custom-field",1),Object(i.Mc)(3,rt,2,5,"date-custom-field-old",1),Object(i.Mc)(4,ot,2,5,"boolean-custom-field",1),Object(i.Mc)(5,ut,3,2,"ng-container",2),Object(i.Mc)(6,lt,2,5,"phone-number-custom-field",1),Object(i.Mc)(7,jt,3,2,"ng-container",3),Object(i.Mc)(8,Ot,2,1,"div",4),Object(i.cc)()),2&e&&(Object(i.wc)("ngSwitch",t.field.type),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","SINGLE_SELECT_LIST"),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","MULTI_SELECT_LIST"),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","ISO_DATE"),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","BOOLEAN"),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","NUMBER"),Object(i.Ob)(1),Object(i.wc)("ngSwitchCase","PHONE_NUMBER"),Object(i.Ob)(2),Object(i.wc)("ngIf",t.errors.length))},directives:[y.m,y.n,y.o,y.k,v.nc,v.Ib,v.O,v.p,v.Kb,v.ec,v.Sb,v.vc,v.Hb,y.j],pipes:[y.b],encapsulation:2}),e})();function gt(e,t){1&e&&Object(i.bc)(0)}const mt=function(e){return{$implicit:e}};function vt(e,t){if(1&e&&(Object(i.dc)(0),Object(i.Mc)(1,gt,1,0,"ng-container",2),Object(i.cc)()),2&e){const e=Object(i.pc)(2);Object(i.Ob)(1),Object(i.wc)("ngTemplateOutlet",e.tpl)("ngTemplateOutletContext",Object(i.zc)(2,mt,e.field))}}function Mt(e,t){if(1&e&&(Object(i.dc)(0),Object(i.fc)(1,"div"),Object(i.ac)(2,"label",3),Object(i.ac)(3,"custom-field-input",4),Object(i.ac)(4,"i",5),Object(i.ec)(),Object(i.cc)()),2&e){const e=Object(i.pc)(2);Object(i.Ob)(2),Object(i.wc)("fieldName",e.field.name),Object(i.Ob)(1),Object(i.wc)("fieldName",e.field.name),Object(i.Ob)(1),Object(i.wc)("fieldName",e.field.name)}}function wt(e,t){if(1&e&&(Object(i.dc)(0),Object(i.Mc)(1,vt,2,4,"ng-container",1),Object(i.Mc)(2,Mt,5,3,"ng-container",1),Object(i.cc)()),2&e){const e=Object(i.pc)();Object(i.Ob)(1),Object(i.wc)("ngIf",e.tpl),Object(i.Ob)(1),Object(i.wc)("ngIf",!e.tpl)}}let yt=(()=>{class e{constructor(e,t,s,i){this.state=e,this.rendererService=t,this.el=s,this.customFields=i,this.hidden=!1}ngOnInit(){this.field=this.customFields.registerField(this.fieldName,this.rest),this.field||(this.field=v.uc.default(),this.rendererService.detachView(this.el.nativeElement))}ngAfterContentInit(){this.state.ready$.pipe(Object(O.a)(()=>this.customFields.fieldVisibility(this.field.name))).subscribe(e=>this.hidden=!e)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(v.Lb),Object(i.Zb)(i.q),Object(i.Zb)(v.K))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["custom-field"]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,i.X,3),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.tpl=e.first)}},inputs:{fieldName:"fieldName",rest:"rest"},decls:2,vars:2,consts:[[3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["customFieldLabel","",3,"fieldName"],[3,"fieldName"],["infoIconTooltip","",1,"icon","icon-tooltip",3,"fieldName"]],template:function(e,t){1&e&&(Object(i.fc)(0,"div",0),Object(i.Mc)(1,wt,3,2,"ng-container",1),Object(i.ec)()),2&e&&(Object(i.wc)("hidden",t.hidden),Object(i.Ob)(1),Object(i.wc)("ngIf",t.field))},directives:[y.k,y.p,it,pt,v.wb],encapsulation:2}),e})();function Ct(e,t){1&e&&Object(i.bc)(0)}const St=function(e){return{$implicit:e}};function It(e,t){if(1&e&&Object(i.Mc)(0,Ct,1,0,"ng-container",2),2&e){const e=t.$implicit,s=Object(i.pc)(2);Object(i.wc)("ngTemplateOutlet",s.tpl)("ngTemplateOutletContext",Object(i.zc)(2,St,e))}}function Nt(e,t){if(1&e&&(Object(i.fc)(0,"custom-field",1),Object(i.Mc)(1,It,1,4,"ng-template"),Object(i.ec)()),2&e){const e=t.$implicit;Object(i.wc)("fieldName",e.name)("rest",!0)}}let Et=(()=>{class e{constructor(e,t){this.state=e,this.customFields=t,this.hostClass=!0,this.fields=[]}ngAfterContentInit(){this.state.ready$.pipe(Object(O.a)(()=>this.customFields.fields)).subscribe(e=>this.fields=e)}trackByFields(e,t){return t.name+(t.locale||"")}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(I),Object(i.Zb)(v.K))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["custom-fields"]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,i.X,3),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.tpl=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Object(i.Rb)("custom-fields",t.hostClass)},decls:1,vars:2,consts:[[3,"fieldName","rest",4,"ngFor","ngForOf","ngForTrackBy"],[3,"fieldName","rest"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Object(i.Mc)(0,Nt,2,2,"custom-field",0),2&e&&Object(i.wc)("ngForOf",t.fields)("ngForTrackBy",t.trackByFields)},directives:[y.j,yt,y.p],encapsulation:2}),e})(),Dt=(()=>{class e{constructor(e,t,s){this.view=e,this.state=t,this.viewManager=s}ngAfterContentInit(){this.viewManager.manageView(this,!0)}isVisible(){return this.state.showResendConfirmationEmail$.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(I),Object(i.Zb)(v.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","showIfResendConfirmationEmailNeeded",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,v.n,1),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([v.Ec])]}),e})(),kt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["app-profile-preloader"]],decls:18,vars:0,consts:[[1,"p-row"],[1,"p-label"],[1,"p-input"]],template:function(e,t){1&e&&(Object(i.fc)(0,"div",0),Object(i.ac)(1,"div",1),Object(i.ac)(2,"div",2),Object(i.ec)(),Object(i.fc)(3,"div",0),Object(i.ac)(4,"div",1),Object(i.ac)(5,"div",2),Object(i.ec)(),Object(i.fc)(6,"div",0),Object(i.ac)(7,"div",1),Object(i.ac)(8,"div",2),Object(i.ec)(),Object(i.fc)(9,"div",0),Object(i.ac)(10,"div",1),Object(i.ac)(11,"div",2),Object(i.ec)(),Object(i.fc)(12,"div",0),Object(i.ac)(13,"div",1),Object(i.ac)(14,"div",2),Object(i.ec)(),Object(i.fc)(15,"div",0),Object(i.ac)(16,"div",1),Object(i.ac)(17,"div",2),Object(i.ec)())},styles:["[_nghost-%COMP%]{display:block}@-webkit-keyframes preloader-opacity-pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes preloader-opacity-pulse{0%,to{opacity:1}50%{opacity:.5}}.p-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.p-row[_ngcontent-%COMP%]:first-child{margin-top:31px}.p-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:preloader-opacity-pulse 1.5s ease-in-out 0s infinite;animation:preloader-opacity-pulse 1.5s ease-in-out 0s infinite;border-radius:2px}.p-label[_ngcontent-%COMP%]{height:16px;width:172px;margin-right:20px}.p-input[_ngcontent-%COMP%], .p-label[_ngcontent-%COMP%]{background:#ebebeb}.p-input[_ngcontent-%COMP%]{height:30px;flex:1}@media (max-width:600px){.p-row[_ngcontent-%COMP%]{display:block}.p-label[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]{padding-left:25px;padding-right:25px}}"]}),e})(),At=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[y.c]]}),e})()},aPBM:function(e,t,s){"use strict";s.d(t,"a",function(){return R}),s.d(t,"b",function(){return A}),s.d(t,"c",function(){return D}),s.d(t,"d",function(){return z}),s.d(t,"e",function(){return x}),s.d(t,"f",function(){return V}),s.d(t,"g",function(){return T});var i=s("fXoL"),n=s("jhN1"),c=s("Y4Or"),r=s("eIep"),o=s("lJxs"),a=s("JIr8"),b=s("vkgz"),u=s("nYR2"),l=s("5+tZ"),h=s("IzEk"),d=s("NfdI"),j=s("pLZG"),f=s("Kj3r"),O=s("1G5W"),p=s("jtHE"),g=s("XNiG"),m=s("LRne"),v=s("VRyK"),M=s("cp0P"),w=s("mrSG"),y=s("LGct"),C=s("/wor"),S=s("76Av"),I=s("tk/3"),N=s("3Pt+"),E=s("ofXK");let D=(()=>{class e{constructor(e,t,s,i){this.config=e,this.lang=t,this.title=s,this.langSettings=i}configure(e){this.title.setTitle("Newsletters"),this.lang.doNotSetCookie=!0,this.langSettings.configureLang(e).pipe(Object(r.a)(()=>this.lang.onLangChange)).subscribe(({lang:e})=>this.config.set("lang",e))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(c.xb),Object(i.jc)(n.b),Object(i.jc)(c.Gb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),k=(()=>{class e{static fromPlain(t){return Object(y.a)(e,t)}}return Object(w.a)([Object(C.a)(),Object(w.b)("design:type",Number)],e.prototype,"id",void 0),Object(w.a)([Object(C.a)(),Object(w.b)("design:type",String)],e.prototype,"name",void 0),Object(w.a)([Object(C.a)({name:"user_active_state"}),Object(S.a)(()=>Boolean),Object(w.b)("design:type",Boolean)],e.prototype,"isActive",void 0),e})(),A=(()=>{class e{constructor(e,t,s){this.httpClient=e,this.config=t,this.langService=s}getSubscriptionsList(){return this.httpClient.get(`${this.config.get("apiPath")}/identity/newsletter`,{params:(new I.e).set("aid",this.config.get("aid"))}).pipe(Object(o.a)(e=>{const t=k.fromPlain(e);return new Map(t.reduce((e,t)=>[...e,[t.id,t]],[]))}),Object(a.a)(c.V.catch(this.langService.trc("piano.id","Failed to load subscriptions"))))}doSubscribe(e){return this.httpClient.post(`${this.config.get("apiPath")}/identity/newsletter/subscription`,e,{params:(new I.e).set("aid",this.config.get("aid"))}).pipe(Object(a.a)(c.V.catch(this.langService.trc("piano.id","Failed to subscribe"))))}unSubscribe(e){const t={params:(new I.e).set("aid",this.config.get("aid")),body:e};return this.httpClient.delete(`${this.config.get("apiPath")}/identity/newsletter/subscription`,t).pipe(Object(a.a)(c.V.catch(this.langService.trc("piano.id","Failed to unsubscribe"))))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(I.b),Object(i.jc)(c.u),Object(i.jc)(c.xb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{constructor(e,t,s,i,n){this.config=e,this.postMessage=t,this.container=s,this.tokenService=i,this.apiService=n,this.subscriptionsSubject=new p.a(1),this.isLoadingSubject=new g.a,this.subscribeToPostMessages(),this.postMessage.send("stateReady")}get subscriptions$(){return this.subscriptionsSubject.asObservable()}get isLoading$(){return this.isLoadingSubject.asObservable()}fetchSubscriptions(){return this.apiService.getSubscriptionsList().pipe(Object(b.a)(e=>this.subscriptionsSubject.next(e)))}doSubscribe(e){return e.length?(this.isLoadingSubject.next(!0),this.apiService.doSubscribe(e).pipe(Object(u.a)(()=>this.isLoadingSubject.next(!1)),Object(a.a)(e=>e),Object(l.a)(()=>this.subscriptions$.pipe(Object(h.a)(1))),Object(b.a)(t=>this.setSubscriptionsStatus(t,e,!0)))):Object(m.a)(1)}unSubscribe(e){return e.length?(this.isLoadingSubject.next(!0),this.apiService.unSubscribe(e).pipe(Object(u.a)(()=>this.isLoadingSubject.next(!1)),Object(a.a)(e=>e),Object(l.a)(()=>this.subscriptions$.pipe(Object(h.a)(1))),Object(b.a)(t=>this.setSubscriptionsStatus(t,e,!1)))):Object(m.a)(1)}unSubscribeAll(){return this.isLoadingSubject.next(!0),this.subscriptions$.pipe(Object(h.a)(1),Object(o.a)(e=>Array.from(e.entries()).filter(([e,t])=>t.isActive).map(([e,t])=>e)),Object(r.a)(e=>this.apiService.unSubscribe(e).pipe(Object(u.a)(()=>this.isLoadingSubject.next(!1)),Object(a.a)(e=>e),Object(l.a)(()=>this.subscriptions$.pipe(Object(h.a)(1))),Object(b.a)(t=>this.setSubscriptionsStatus(t,e,!1)))))}subscribeToPostMessages(){this.postMessage.messages.pipe(Object(d.a)(e=>Object(v.a)(e.pipe(Object(j.a)(e=>"close"===e.event),Object(b.a)(()=>this.container.close())),e.pipe(Object(j.a)(({event:e,params:t})=>"setToken"===e&&(null==t?void 0:t.token)),Object(b.a)(({params:e})=>this.tokenService.accessToken=e.token),Object(l.a)(()=>this.fetchSubscriptions()))))).subscribe()}setSubscriptionsStatus(e,t,s){const i=e;t.forEach(e=>{const t=i.get(+e);t.isActive=s,i.set(+e,t)}),this.subscriptionsSubject.next(i)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(c.u),Object(i.jc)(c.Tb),Object(i.jc)(c.z),Object(i.jc)(c.xc),Object(i.jc)(A))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})();function L(e,t){if(1&e&&(Object(i.fc)(0,"label",3),Object(i.ac)(1,"checkbox",4),Object(i.fc)(2,"span"),Object(i.Nc)(3),Object(i.ec)(),Object(i.ec)()),2&e){const e=t.$implicit;Object(i.Ob)(1),Object(i.wc)("formControlName",e.id),Object(i.Ob)(2),Object(i.Oc)(e.name)}}let x=(()=>{class e{constructor(e,t){this.stateService=e,this.fb=t,this.subscriptionsList=[],this.form=this.fb.group({subscriptions:this.fb.group({})}),this.subscribeRequestDestroyed$=new g.a,this.unSubscribeRequestDestroyed$=new g.a}ngOnInit(){this.stateService.subscriptions$.pipe(Object(o.a)(e=>Array.from(e.values())),Object(b.a)(e=>e.forEach(e=>this.generateFormControlForSubscription(e)))).subscribe(e=>this.subscriptionsList=e),this.stateService.isLoading$.subscribe(e=>e?this.form.disable():this.form.enable()),this.form.get("subscriptions").valueChanges.pipe(Object(j.a)(()=>this.form.enabled),Object(f.a)(500),Object(l.a)(e=>this.getOnlyChangedFormValues(e)),Object(j.a)(e=>!!e.length),Object(l.a)(e=>{const t=e.filter(([e,t])=>t).map(([e,t])=>e),s=e.filter(([e,t])=>!t).map(([e,t])=>e);return t.length&&(this.subscribeRequestDestroyed$.next(),this.subscribeRequestDestroyed$.complete(),this.subscribeRequestDestroyed$=new g.a),s.length&&(this.unSubscribeRequestDestroyed$.next(),this.unSubscribeRequestDestroyed$.complete(),this.unSubscribeRequestDestroyed$=new g.a),Object(M.a)([this.stateService.doSubscribe(t).pipe(Object(O.a)(this.subscribeRequestDestroyed$)),this.stateService.unSubscribe(s).pipe(Object(O.a)(this.unSubscribeRequestDestroyed$))])})).subscribe()}generateFormControlForSubscription({id:e,isActive:t}){const s=this.form.get("subscriptions"),i=`${e}`;s.get(i)?s.get(i).setValue(t):s.setControl(i,this.fb.control(t))}getOnlyChangedFormValues(e){return this.stateService.subscriptions$.pipe(Object(h.a)(1),Object(o.a)(t=>Object.entries(e).filter(([e,s])=>t.get(+e).isActive!==s).map(([e,t])=>[+e,t])))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(T),Object(i.Zb)(N.b))},e.\u0275cmp=Object(i.Tb)({type:e,selectors:[["newsletters-list"]],decls:3,vars:2,consts:[[3,"formGroup"],["formGroupName","subscriptions"],["class","newsletter-item",4,"ngFor","ngForOf"],[1,"newsletter-item"],["type","toggle",3,"formControlName"]],template:function(e,t){1&e&&(Object(i.fc)(0,"div",0),Object(i.dc)(1,1),Object(i.Mc)(2,L,4,2,"label",2),Object(i.cc)(),Object(i.ec)()),2&e&&(Object(i.wc)("formGroup",t.form),Object(i.Ob)(2),Object(i.wc)("ngForOf",t.subscriptionsList))},directives:[N.k,N.f,N.g,E.j,c.r,N.j,N.d],styles:[".newsletter-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:24px 0;border-bottom:1px solid rgba(0,0,0,.1);-webkit-tap-highlight-color:transparent}.newsletter-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.newsletter-item[_ngcontent-%COMP%]   checkbox[_ngcontent-%COMP%]{margin-right:10px}"]}),e})(),z=(()=>{class e{constructor(e,t,s){this.stateService=e,this.renderer2=t,this.elementRef=s}ngAfterViewInit(){this.stateService.subscriptions$.pipe(Object(o.a)(e=>e.size)).subscribe(e=>this.elementRef.nativeElement.innerText=`${e}`)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(T),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","newslettersCount",""]]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[E.c,c.s,N.h,N.m]]}),e})(),R=(()=>{class e{constructor(e){this.stateService=e,this.isDisabled=!1,this.loadingSubscription=this.stateService.isLoading$.subscribe(e=>this.isDisabled=e)}ngOnDestroy(){var e,t;null===(e=this.subscription)||void 0===e||e.unsubscribe(),null===(t=this.loadingSubscription)||void 0===t||t.unsubscribe()}onClick(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.subscription=this.stateService.unSubscribeAll().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(T))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionUnsubscribeFromAllNewsletters",""]],hostVars:1,hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClick(e)})("keydown.enter",function(e){return t.onClick(e)})("keydown.space",function(e){return t.onClick(e)}),2&e&&Object(i.ic)("disabled",t.isDisabled)}}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[E.c]]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[E.c],Z,U,c.yc,c.cb,c.fb,c.gb,c.jb,c.Rb,c.Yb,c.gc,c.pc,c.sc,c.yb,c.tb,c.ub]}),e})()},bhlk:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var i=s("Y4Or"),n=s("vkgz"),c=s("fXoL"),r=s("tk/3");let o=(()=>{class e{constructor(e,t,s,c,r,o,a,b,u){this.params=e,this.http=t,this.config=s,this.consent=c,this.templateTokenService=r,this.script=o,this.lang=a,this.settings=b,this.designVersionService=u,this.noCustomfieldsHandle=e=>{if(this.params.mode!==i.Bb.FORM)return e;if(!e.config||!e.config.custom_fields_bundle)throw this.lang.trc("piano.id","Custom fields are disabled");return e},this.storeConfig=e=>(this.config.setAssetsConfig(e),this.templateTokenService.setFromAssets(e),this.consent.setFromAssets(e),e),this.config.set("mode",this.params.mode),this.cachedSettings=this.settings.getAssets().pipe(Object(n.a)(e=>{[i.Bb.AUTH,i.Bb.FORM].includes(this.config.get("mode"))&&this.designVersionService.initDesignVersion(e.templates)})).toPromise().then(this.noCustomfieldsHandle).then(this.storeConfig)}getSettings(){return this.cachedSettings}getMainExternalCss(){const[e]=this.params.screens;return this.cachedSettings.then(e=>e.templates).then(t=>t.get(e)).then(e=>e.external_css||null)}}return e.\u0275fac=function(t){return new(t||e)(c.jc(i.cc),c.jc(r.b),c.jc(i.u),c.jc(i.y),c.jc(i.tc),c.jc(i.hc),c.jc(i.xb),c.jc(i.h),c.jc(i.R))},e.\u0275prov=c.Vb({token:e,factory:e.\u0275fac}),e})()},cLh5:function(e,t,s){"use strict";s.d(t,"a",function(){return u});var i=s("fXoL"),n=s("ofXK"),c=s("bhlk"),r=s("Y4Or"),o=s("L4dV"),a=s("PIN6"),b=s("3Pt+");let u=(()=>{class e{static forRoot(t,s){return{ngModule:e,providers:[c.a,r.Ac,{provide:r.cc,useValue:t},{provide:o.a,useValue:s},{provide:i.a,useValue:s,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Xb({type:e}),e.\u0275inj=i.Wb({providers:[c.a,r.Ac,r.h,{provide:r.h,useClass:a.a.mock?r.g:r.h},{provide:r.cc,useValue:void 0}],imports:[[n.c,b.h,b.m]]}),e})()},jCJ1:function(e,t,s){"use strict";s.d(t,"a",function(){return m}),s.d(t,"b",function(){return g}),s.d(t,"c",function(){return f});var i=s("mrSG"),n=s("fXoL"),c=s("ofXK"),r=s("LRne"),o=s("2Vo4"),a=s("XNiG");function b(e,t,s,i,n){window.ng2recaptchaloaded=()=>{t(grecaptcha)};const c=document.createElement("script");c.innerHTML="",c.src=`${i||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded${s}`,n&&(c.nonce=n),c.async=!0,c.defer=!0,document.head.appendChild(c)}s("3Pt+");const u=new n.z("recaptcha-language"),l=new n.z("recaptcha-base-url"),h=new n.z("recaptcha-nonce-tag"),d=new n.z("recaptcha-settings"),j=new n.z("recaptcha-v3-site-key");let f=(()=>{let e=O=class{constructor(e,t,s,i,n){this.platformId=e,this.language=t,this.baseUrl=s,this.nonce=i,this.v3SiteKey=n,this.init(),this.ready=Object(c.t)(this.platformId)?O.ready.asObservable():Object(r.a)()}init(){if(!O.ready&&Object(c.t)(this.platformId)){const e=new o.a(null);O.ready=e,b(this.v3SiteKey||"explicit",t=>e.next(t),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}};return e.\u0275fac=function(t){return new(t||e)(n.jc(n.N),n.jc(u,8),n.jc(l,8),n.jc(h,8),n.jc(j,8))},e.\u0275prov=n.Vb({token:e,factory:function(t){return e.\u0275fac(t)}}),e.ready=null,e=O=Object(i.a)([Object(i.c)(0,Object(n.w)(n.N)),Object(i.c)(1,Object(n.L)()),Object(i.c)(1,Object(n.w)(u)),Object(i.c)(2,Object(n.L)()),Object(i.c)(2,Object(n.w)(l)),Object(i.c)(3,Object(n.L)()),Object(i.c)(3,Object(n.w)(h)),Object(i.c)(4,Object(n.L)()),Object(i.c)(4,Object(n.w)(j))],e),e})();var O;let p=0,g=(()=>{let e=class{constructor(e,t,s,i){this.elementRef=e,this.loader=t,this.zone=s,this.id="ngrecaptcha-"+p++,this.errorMode="default",this.resolved=new n.s,this.error=new n.s,i&&(this.siteKey=i.siteKey,this.theme=i.theme,this.type=i.type,this.size=i.size,this.badge=i.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(e=>{null!=e&&e.render instanceof Function&&(this.grecaptcha=e,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}expired(){this.resolved.emit(null)}errored(e){this.error.emit(e)}captchaResponseCallback(e){this.resolved.emit(e)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const e={badge:this.badge,callback:e=>{this.zone.run(()=>this.captchaResponseCallback(e))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(e["error-callback"]=(...e)=>{this.zone.run(()=>this.errored(e))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,e),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}};return e.\u0275fac=function(t){return new(t||e)(n.Zb(n.q),n.Zb(f),n.Zb(n.K),n.Zb(d,8))},e.\u0275cmp=n.Tb({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(e,t){2&e&&n.Pb("id",t.id)},inputs:{id:"id",errorMode:"errorMode",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e=Object(i.a)([Object(i.c)(3,Object(n.L)()),Object(i.c)(3,Object(n.w)(d))],e),e})(),m=(()=>{let e=class{constructor(e,t,s,i,n,r){this.onLoadComplete=e=>{this.grecaptcha=e,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([e,t])=>this.executeActionWithSubject(e,t)),this.actionBacklog=void 0)},this.zone=e,this.isBrowser=Object(c.t)(s),this.siteKey=t,this.nonce=n,this.language=r,this.baseUrl=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new a.a,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new a.a,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(e){const t=new a.a;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(e,t):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([e,t]))),t.asObservable()}executeActionWithSubject(e,t){const s=s=>{this.zone.run(()=>{t.error(s),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:e,error:s})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:e}).then(s=>{this.zone.run(()=>{t.next(s),t.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:e,token:s})})},s)}catch(i){s(i)}})}init(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:b(this.siteKey,this.onLoadComplete,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce))}};return e.\u0275fac=function(t){return new(t||e)(n.jc(n.K),n.jc(j),n.jc(n.N),n.jc(l,8),n.jc(h,8),n.jc(u,8))},e.\u0275prov=n.Vb({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Object(i.a)([Object(i.c)(1,Object(n.w)(j)),Object(i.c)(2,Object(n.w)(n.N)),Object(i.c)(3,Object(n.L)()),Object(i.c)(3,Object(n.w)(l)),Object(i.c)(4,Object(n.L)()),Object(i.c)(4,Object(n.w)(h)),Object(i.c)(5,Object(n.L)()),Object(i.c)(5,Object(n.w)(u))],e),e})()},jiG8:function(e,t,s){"use strict";s.d(t,"a",function(){return m}),s.d(t,"b",function(){return v}),s.d(t,"c",function(){return M}),s.d(t,"d",function(){return y}),s.d(t,"e",function(){return O}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return f}),s.d(t,"h",function(){return j});var i=s("fXoL"),n=s("jtHE"),c=s("LRne"),r=s("XNiG"),o=s("Y4Or"),a=s("lJxs"),b=s("JIr8"),u=s("1G5W"),l=s("ofXK"),h=s("0E7l");let d=(()=>{class e{constructor(e,t,s,i,c){this.auth=e,this.screenService=t,this.config=s,this.container=i,this.gmSsoRedirectParamsService=c,this.userDataSubject=new n.a(1)}initGmSso(){return this.config.get("isGmSsoRedirectEnabled")?this.initRedirect():this.initPopup()}initPopup(){return this.config.get("accessToken")&&(this.tokenVerifyResponse={access_token:this.config.get("accessToken"),token_type:this.config.get("tokenType")}),Object(c.a)(!0)}initRedirect(){return this.auth.gmSsoTokenVerify().pipe(Object(a.a)(e=>((null==e?void 0:e.error)?"register"===this.config.get("gmSsoConfigScreen")?this.screenService.setScreen("register"):this.screenService.setScreen("login"):this.tokenVerifyResponse=e,!!e)),Object(b.a)(()=>(this.screenService.setScreen("login"),Object(c.a)(!0))))}get userData$(){return this.userDataSubject.asObservable()}returnBackToClientSite(){this.container.redirect(this.config.get("redirectUri"))}returnBackToClientSiteWithAuth(){this.container.redirect(this.config.get("redirectUri"),this.gmSsoRedirectParamsService.buildRedirectParams(this.tokenVerifyResponse))}closeModal(){this.container.close()}authUserByToken(){this.auth.setToken(this.tokenVerifyResponse)}set tokenVerifyResponse(e){this.tokenVerifyResponseData=e,this.userDataSubject.next(o.wc.decode(this.tokenVerifyResponse.access_token))}get tokenVerifyResponse(){return this.tokenVerifyResponseData}}return e.\u0275fac=function(t){return new(t||e)(Object(i.jc)(o.j),Object(i.jc)(o.fc),Object(i.jc)(o.u),Object(i.jc)(o.z),Object(i.jc)(o.mb))},e.\u0275prov=Object(i.Vb)({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{constructor(e,t,s,i){this.view=e,this.currentScreenService=t,this.assetsConfig=s,this.viewManager=i}ngAfterContentInit(){this.viewManager.manageView(this)}isVisible(){return!!this.assetsConfig.get("gmSsoEnabled")&&this.currentScreenService.screen$.pipe(Object(a.a)(e=>["login","register"].includes(e)))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(i.db),Object(i.Zb)(o.C),Object(i.Zb)(o.e),Object(i.Zb)(o.Ec))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","gmSsoShowIfEnabled",""]],contentQueries:function(e,t,s){if(1&e&&Object(i.Sb)(s,o.n,0),2&e){let e;Object(i.Dc)(e=Object(i.oc)())&&(t.fieldDirectives=e)}},features:[Object(i.Nb)([o.Ec])]}),e})(),f=(()=>{class e{constructor(e,t,s){this.gmSsoService=e,this.renderer=t,this.el=s,this.destroyed$=new r.a,this.gmSsoService.userData$.pipe(Object(u.a)(this.destroyed$)).subscribe(({email:e})=>this.addEmailText(e))}ngOnDestroy(){this.destroyed$.next()}addEmailText(e){const t=this.renderer.createText(e);this.el.nativeElement.lastChild&&this.renderer.removeChild(this.el.nativeElement,this.el.nativeElement.lastChild),this.renderer.appendChild(this.el.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(d),Object(i.Zb)(i.Q),Object(i.Zb)(i.q))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","gmSsoShowEmail",""]]}),e})(),O=(()=>{class e{constructor(e,t,s,i){this.config=e,this.renderer=t,this.el=s,this.gmSsoService=i}ngOnInit(){if(this.config.get("isGmSsoRedirectEnabled")){this.renderer.addClass(this.el.nativeElement,"pn-gm-sso-redirect-layout");const e=this.el.nativeElement.querySelector("#gm-sso-content");this.renderer.setStyle(e,"max-width",`${this.config.get("gmSsoRedirectContainerWidth")}px`),this.addCloseButton(e)}}ngOnDestroy(){this.closeButtonListener&&this.closeButtonListener()}addCloseButton(e){const t=this.renderer.createElement("button");this.renderer.addClass(t,"pn-gm-sso-close"),this.renderer.appendChild(e,t),this.closeButtonListener=this.renderer.listen(t,"click",()=>{this.gmSsoService.returnBackToClientSite()})}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(o.u),Object(i.Zb)(i.Q),Object(i.Zb)(i.q),Object(i.Zb)(d))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","gmSsoRedirectPageWrapper",""]]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[l.c]]}),e})();class g{constructor(e,t){this.state=e,this.config=t}onClickEvent(e){this.config.get("isPreview")||(e.preventDefault(),this.onClick())}onClick(){}}let m=(()=>{class e extends g{constructor(e,t,s){super(t,s),this.gmSsoService=e,this.state=t,this.config=s}onClickEvent(e){super.onClickEvent(e)}onClick(){this.config.get("isGmSsoRedirectEnabled")?this.gmSsoService.returnBackToClientSiteWithAuth():this.gmSsoService.authUserByToken()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(d),Object(i.Zb)(h.lb),Object(i.Zb)(o.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionGmSsoBeforeLogin",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),v=(()=>{class e extends g{constructor(e,t,s){super(t,s),this.gmSsoService=e,this.state=t,this.config=s}onClickEvent(e){super.onClickEvent(e)}onClick(){this.config.get("isGmSsoRedirectEnabled")?this.gmSsoService.returnBackToClientSiteWithAuth():this.gmSsoService.closeModal()}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(d),Object(i.Zb)(h.lb),Object(i.Zb)(o.u))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionGmSsoClose",""],["","actionClose",""]],hostBindings:function(e,t){1&e&&Object(i.nc)("click",function(e){return t.onClickEvent(e)})},features:[i.Lb]}),e})(),M=(()=>{class e{constructor(e,t,s,i){this.screenService=e,this.config=t,this.el=s,this.eventsService=i,this.tabindex="0"}onClick(){this.config.get("isPreview")||(this.eventsService.logout(),this.screenService.setScreen("login"))}}return e.\u0275fac=function(t){return new(t||e)(Object(i.Zb)(o.fc),Object(i.Zb)(o.u),Object(i.Zb)(i.q),Object(i.Zb)(o.hb))},e.\u0275dir=Object(i.Ub)({type:e,selectors:[["","actionGmSsoShowLogin",""],["","actionSsoShowLogin",""]],hostVars:1,hostBindings:function(e,t){1&e&&Object(i.nc)("keydown.enter",function(){return t.onClick()})("keydown.space",function(){return t.onClick()})("click",function(){return t.onClick()}),2&e&&Object(i.Pb)("tabindex",t.tabindex)}}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[l.c]]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Object(i.Xb)({type:e}),e.\u0275inj=Object(i.Wb)({imports:[[l.c],o.c,o.m,o.x,o.E,o.J,o.L,o.cb,o.fb,o.gb,o.jb,o.yb,o.Rb,o.Yb,o.gc,o.pc,o.sc,o.tb,o.ub,p,w]}),e})()},np13:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var i=s("ofXK"),n=s("fXoL"),c=s("Y4Or"),r=s("QCNz"),o=s("Xl4/");let a=(()=>{class e{constructor(e,t,s,i){this.elementRef=e,this.elementsService=t,this.renderer=s,this.documentRef=i,this.iframeName="autofill-iframe"}ngAfterViewInit(){this.elementsService.appendEmptyIframe(this.iframeName,this.elementRef.nativeElement)}layoutLoaded(){this.renderer.removeClass(this.documentRef.body,"preload")}}return e.\u0275fac=function(t){return new(t||e)(n.Zb(n.q),n.Zb(c.U),n.Zb(n.Q),n.Zb(i.d))},e.\u0275cmp=n.Tb({type:e,selectors:[["newsletters-widget"]],decls:12,vars:1,consts:[["action","about:blank"],[3,"layoutLoaded"],["id","profile-autofill-submit","type","submit",2,"display","none"]],template:function(e,t){1&e&&(n.fc(0,"div",0),n.Nc(1,"\n  "),n.ac(2,"pn-messages"),n.Nc(3,"\n  "),n.fc(4,"app-resolve-outlet",1),n.nc("layoutLoaded",function(){return t.layoutLoaded()}),n.Nc(5,"\n    "),n.ac(6,"app-profile-preloader"),n.Nc(7,"\n  "),n.ec(),n.Nc(8,"\n\n  "),n.ac(9,"button",2),n.Nc(10,"\n"),n.ec(),n.Nc(11,"\n")),2&e&&n.Pb("target",t.iframeName)},directives:[c.Db,r.a,o.x],encapsulation:2}),e})()},pelm:function(e,t,s){"use strict";s.d(t,"a",function(){return l});var i=s("ofXK"),n=s("Y4Or"),c=s("NBQ7"),r=s("tyNb"),o=s("H9my"),a=s("fXoL");const b=[{path:"",component:o.a}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Xb({type:e}),e.\u0275inj=a.Wb({imports:[[r.d.forChild(b)],r.d]}),e})(),l=(()=>{class e{constructor(e,t){this.aotDetector=e,this.postMessage=t,this.postMessage.send("loaded")}static forRoot(t=!1){return{ngModule:e,providers:[{provide:n.vb,useValue:t},{provide:n.Vb,useExisting:c.e},{provide:n.dc,useValue:"Form"},n.f,n.j,n.i,n.z,n.y,n.P,n.db,n.hc,n.K,n.hb,n.Mb,n.Gc,n.Dc,n.Cc,n.q,c.g,c.e,c.c,n.Gb,n.a,n.Zb,n.fc,n.tc,n.R,n.Lb,n.F]}}}return e.\u0275fac=function(t){return new(t||e)(a.jc(n.a),a.jc(n.Tb))},e.\u0275mod=a.Xb({type:e}),e.\u0275inj=a.Wb({imports:[i.c,n.yc,n.Xb,u]}),e})()},whMZ:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("ofXK"),n=s("fXoL"),c=s("Y4Or");let r=(()=>{class e{constructor(e,t,s){this.renderer=e,this.postMessage=t,this.documentRef=s}ngAfterViewInit(){const e=this.documentRef.body;setTimeout(()=>{this.renderer.removeClass(e,"inside-checkout"),this.postMessage.send("layoutReady",{width:e.clientWidth,height:e.clientHeight})})}}return e.\u0275fac=function(t){return new(t||e)(n.Zb(n.Q),n.Zb(c.Tb),n.Zb(i.d))},e.\u0275dir=n.Ub({type:e}),e})()}}]);